(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{105:function(e,t,r){"use strict";r.r(t),r.d(t,"createFolder",(function(){return a})),r.d(t,"createTemplate",(function(){return u})),r.d(t,"getUserTemplateData",(function(){return l})),r.d(t,"deleteTemplate",(function(){return d})),r.d(t,"deleteFolder",(function(){return j})),r.d(t,"emptyFolder",(function(){return b}));var n=r(23),o=r.n(n),c=r(46),i=r(45),s=Object(c.createSlice)({name:"template",initialState:{status:"idle",folders:{}},reducers:{removeLiftFromTemplate:function(e,t){var r=t.payload,n=r.folId,o=r.tempId,c=r.liftId;delete e.folders[n].templates[o].exercises[c],e.folders[n].templates[o].exerciseOrder.filter((function(e){return e===c}))},deleteFolder:function(e,t){var r=t.payload;delete e.folders[r]},emptyFolder:function(e,t){var r=t.payload.folderId;e.folders[r].templates={}}},extraReducers:function(e){e.addCase(a.fulfilled,(function(e,t){var r=t.payload,n=r.id,o={templates:{},id:n,name:r.title};e.folders[n]=o})).addCase(a.rejected,(function(e,t){e.status="rejected"})).addCase(u.fulfilled,(function(e,t){var r=t.payload,n=r.folder_id,o=r.template_name,c=r.tempId,i={exercises:{},exerciseOrder:[],templateName:o,tempId:c};e.folders[n].templates[c]=i;var s=r.exercises;JSON.parse(s).map((function(t){var r=t.exerciseId,o=t.exerciseName,i=t.liftId;e.folders[n].templates[c].exercises[i]={exerciseId:r,exerciseName:o,sets:{}},e.folders[n].templates[c].exerciseOrder.push(i)}))})).addCase(u.rejected,(function(e,t){e.status="rejected"})).addCase(l.fulfilled,(function(e,t){var r=t.payload,n=r.templateData;r.folderData.map((function(t){e.folders[t.id]={name:t.title,id:t.id,templates:{}}})),n.map((function(t){e.folders[t.folder_id].templates[t.id]={exerciseOrder:[],templateName:t.template_name,tempId:t.id,exercises:JSON.parse(t.exercises)}})),e.status="fulfilled"})).addCase(l.rejected,(function(e,t){e.status="rejected"})).addCase(d.fulfilled,(function(e,t){var r=t.payload,n=r.folderId,o=r.templateId;delete e.folders[n].templates[o]})).addCase(d.rejected,(function(e,t){e.status="rejected"}))}}),a=Object(c.createAsyncThunk)("template/createFolder",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n={title:e.title,user_id:e.userId},o=yield i.supabase.from("folders").insert(n),c=o.data,s=o.error;return s?(console.log("ERROR",s),r([])):(n.id=c[0].id,n)}));return function(t,r){return e.apply(this,arguments)}}()),u=Object(c.createAsyncThunk)("template/createTemplate",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=e.params,o=e.folId,c=e.title,s=e.userId,a={exercises:JSON.stringify(n),folder_id:o,template_name:c,user_id:s},u=yield i.supabase.from("templates").insert(a),l=u.data,d=u.error;return d?(console.error(d),r(d.message)):(a.tempId=l[0].id,a)}));return function(t,r){return e.apply(this,arguments)}}()),l=Object(c.createAsyncThunk)("template/getUserData",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=yield i.supabase.from("folders").select().eq("user_id",e),o=n.data,c=n.error,s=yield i.supabase.from("templates").select().eq("user_id",e),a=s.data,u=s.error;return u||c?(console.error(u||c),r(u||c)):{templateData:a,folderData:o}}));return function(t,r){return e.apply(this,arguments)}}()),d=Object(c.createAsyncThunk)("template/deleteWidget",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=yield i.supabase.from("templates").delete().eq("id",e),o=n.data,c=n.error;return c?r(c):(console.log("data",o),{folderId:o[0].folder_id,templateId:o[0].id})}));return function(t,r){return e.apply(this,arguments)}}()),f=s.actions,j=f.deleteFolder,b=f.emptyFolder;t.default=s.reducer},106:function(e,t,r){"use strict";r.r(t),r.d(t,"userSignup",(function(){return j})),r.d(t,"userLogin",(function(){return b})),r.d(t,"userSignout",(function(){return p})),r.d(t,"signInWithGoogle",(function(){return O})),r.d(t,"reset",(function(){return g})),r.d(t,"rememberSession",(function(){return m})),r.d(t,"logout",(function(){return x}));var n=r(23),o=r.n(n),c=r(46),i=r(10),s=r(45),a=r(170),u=function(){var e=o()((function*(e,t){try{a.default.removeItem(e),a.default.setItem(e,JSON.stringify(t))}catch(r){console.error("ERROR SAVING TOKEN FOR APP ",r)}}));return function(t,r){return e.apply(this,arguments)}}(),l=function(e,t){localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(t))},d={user:{userName:"",isLoggedIn:!1,userId:""},status:"idle"},f=Object(c.createSlice)({name:"user",initialState:d,reducers:{reset:function(e){return d},logout:function(e){e.user.isLoggedIn=!1,e.user.userId="",e.status="idle"},loginWithGoogle:function(e,t){var r=t.payload;e.user.isLoggedIn=!0,e.user.userId=r.user.id,e.status="fulfilled"},rememberSession:function(e,t){var r=t.payload,n=JSON.parse(r);e.user.isLoggedIn=!0,e.user.userId=n.user.id,e.status="fulfilled"}},extraReducers:function(e){e.addCase(j.fulfilled,(function(e,t){var r=t.payload,n=r.user;r.session,r.rememberMe;e.user.isLoggedIn=!0,e.user.userId=n.id,e.status="fulfilled"})).addCase(j.rejected,(function(e,t){e.status="rejected"})).addCase(j.pending,(function(e,t){e.status="pending"})).addCase(b.fulfilled,(function(e,t){var r=t.payload,n=r.user,o=r.session;r.rememberMe;"web"===i.default.OS?l("JACKED__SESSION_TOKEN",o):u("JACKED__SESSION_TOKEN",o),e.user.isLoggedIn=!0,e.user.userId=n.id,e.status="fulfilled"})).addCase(O.fulfilled,(function(e,t){t.payload})).addCase(b.pending,(function(e){e.status="pending"})).addCase(b.rejected,(function(e){e.status="rejected"})).addCase(p.rejected,(function(e){e.status="rejected"})).addCase(p.fulfilled,(function(e){e.status="fulfilled",e.user=d.user})).addCase(p.pending,(function(e){e.status="pending"}))}}),j=Object(c.createAsyncThunk)("user/userSignup",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=e.email,o=e.password,c=e.rememberMe,i=yield s.supabase.auth.signUp({email:n,password:o}),a=i.user,u=i.session,l=i.error;return l?r(l.message):{user:a,session:u,rememberMe:c}}));return function(t,r){return e.apply(this,arguments)}}()),b=Object(c.createAsyncThunk)("user/userLogin",function(){var e=o()((function*(e,t){var r=e.email,n=e.password,o=e.rememberMe,c=yield s.supabase.auth.signIn({email:r,password:n}),i=c.user,a=c.session,u=c.error;return u?t.rejectWithValue(u):{user:i,session:a,rememberMe:o}}));return function(t,r){return e.apply(this,arguments)}}()),p=Object(c.createAsyncThunk)("user/userSignout",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=(yield s.supabase.auth.signOut()).error;if(n)return r(n)}));return function(t,r){return e.apply(this,arguments)}}()),O=Object(c.createAsyncThunk)("user/signInWithGoogle",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=yield s.supabase.auth.signIn({provider:"google"}),o=n.user;n.session,n.error;return o||r({})}));return function(t,r){return e.apply(this,arguments)}}()),h=f.actions,g=h.reset,m=h.rememberSession,x=h.logout;t.default=f.reducer},151:function(e,t,r){"use strict";r.r(t),r.d(t,"getWeight",(function(){return l})),r.d(t,"addWeight",(function(){return d}));var n=r(23),o=r.n(n),c=r(46),i=r(13),s=r.n(i),a=r(45),u=Object(c.createSlice)({name:"weightSlice",initialState:{weight:{labels:[],values:[]},status:"idle"},reducers:{addWeight:function(e,t){var r=t.payload;e.weight.labels.push(r.date),e.weight.values.push(r.weight),e.status="refreshing"}},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){var r=t.payload,n=r.map((function(e){var t=e.created_at.split(" ")[0];return s()(t).format("DD/MM")})),o=r.map((function(e){var t=e.weight;return parseInt(t)}));e.weight.labels=n,e.weight.values=o,e.status="fulfilled"}))}}),l=Object(c.createAsyncThunk)("weightSlice/getWeight",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=yield a.supabase.from("weight").select().order("id",{ascending:!1}).eq("user_id",e.userId).limit(7),o=n.data,c=n.error;return c?(console.error(c.message),r(c.message)):o}));return function(t,r){return e.apply(this,arguments)}}()),d=Object(c.createAsyncThunk)("weightSlice/addWeight",function(){var e=o()((function*(e,t){var r=t.rejectWithValue,n=yield a.supabase.from("weight").insert({weight:e.weight,user_id:e.userId}),o=n.data,c=n.error;if(c)return console.error(c),r(c.message);var i=o[0].created_at;return{weight:e.weight,date:i}}));return function(t,r){return e.apply(this,arguments)}}());t.default=u.reducer},24:function(e,t,r){"use strict";r.r(t),r.d(t,"useAppDispatch",(function(){return j})),r.d(t,"useAppSelector",(function(){return b}));var n=r(46),o=r(217),c=r(59),i=r(276),s=r(106),a=r(277),u=r(105),l=r(99),d=r(151),f=Object(n.configureStore)({reducer:{exerciseListSlice:i.default,currentWorkoutSlice:c.default,userSlice:s.default,workoutHistorySlice:a.default,templateSlice:u.default,widgetSlice:l.default,weightSlice:d.default}}),j=function(){return Object(o.useDispatch)()},b=o.useSelector;t.default=f},276:function(e,t,r){"use strict";r.r(t),r.d(t,"fetchAllExercises",(function(){return a}));var n=r(23),o=r.n(n),c=r(46),i=r(45),s=Object(c.createSlice)({name:"exercise_list",initialState:{status:"idle",exerciseList:[]},reducers:{},extraReducers:function(e){e.addCase(a.fulfilled,(function(e,t){var r=t.payload;e.status="fulfilled",e.exerciseList=r})),e.addCase(a.rejected,(function(e,t){e.status="rejected"})),e.addCase(a.pending,(function(e,t){e.status="pending"}))}}),a=Object(c.createAsyncThunk)("exercise_list/getAllExercises",o()((function*(){var e=yield i.supabase.from("exercises").select().order("exercise_name",{ascending:!0}),t=e.data;return e.error?[]:t})));t.default=s.reducer},277:function(e,t,r){"use strict";r.r(t),r.d(t,"getHistory",(function(){return l})),r.d(t,"refresh",(function(){return d}));var n=r(23),o=r.n(n),c=r(12),i=r.n(c),s=r(46),a=r(45),u=Object(s.createSlice)({name:"workoutHistorySlice",initialState:{history:[],status:"idle"},reducers:{refresh:function(e){e.history=[],e.status="idle"}},extraReducers:function(e){e.addCase(l.fulfilled,(function(e,t){var r=t.payload;"object"===typeof r&&r.map((function(t){return e.history=[].concat(i()(e.history),[t])})),e.status="fulfilled"})).addCase(l.rejected,(function(e){e.status="rejected"})).addCase(l.pending,(function(e){e.status="pending"}))}}),l=Object(s.createAsyncThunk)("workoutHistorySlice/getHistory",function(){var e=o()((function*(e){var t=e.userId,r=e.page,n=r-1,o=yield a.supabase.from("workouts").select("id, workout_name, date, lifts (exercise_name, set (weight, reps))").order("id",{ascending:!1}).eq("user_id",t).range(10*n,10*r).limit(10),c=o.data,i=o.error;return i?console.error(i):c}));return function(t){return e.apply(this,arguments)}}()),d=u.actions.refresh;t.default=u.reducer},344:function(e,t,r){"use strict";r.r(t);var n=r(910),o=r(650),c=r(302),i=r(220),s=r(101),a=r(1);t.default=function(e){var t=e.status,r=e.title,u=e.description,l=e.variant;return Object(a.jsx)(n.default,{children:Object(a.jsx)(o.Alert,{maxWidth:"100%",alignSelf:"center",flexDirection:"row",status:t||"info",variant:l,children:Object(a.jsxs)(c.default,{space:1,flexShrink:1,w:"100%",children:[Object(a.jsx)(i.default,{flexShrink:1,alignItems:"center",justifyContent:"space-between",children:Object(a.jsxs)(i.default,{space:2,flexShrink:1,alignItems:"center",children:[Object(a.jsx)(o.Alert.Icon,{}),Object(a.jsx)(s.default,{fontSize:"md",fontWeight:"medium",flexShrink:1,color:"solid"===l?"lightText":"outline"!==l?"darkText":null,children:r})]})}),Object(a.jsx)(s.default,{px:"6",color:"solid"===l?"lightText":"outline"!==l?"darkText":null,children:u})]})})})}},365:function(e,t,r){"use strict";r.r(t);t.default=function(e){return e.map((function(e){if(!e)return 0;var t=parseInt(e.weight)*(36/(37-parseInt(e.reps)));return Math.round(t)}))}},45:function(e,t,r){"use strict";r.r(t),r.d(t,"supabase",(function(){return o}));var n=r(638),o=Object(n.createClient)("https://getaikckzckdeufnubby.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdldGFpa2NremNrZGV1Zm51YmJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NjQyNzg2MDUsImV4cCI6MTk3OTg1NDYwNX0.g0ghjdTbkbHwU3Q-82RE8ohVYWMttEOLdUw8oSR8GMY")},59:function(e,t,r){"use strict";r.r(t),r.d(t,"saveWorkout",(function(){return j})),r.d(t,"cancelWorkout",(function(){return p})),r.d(t,"setWorkoutTitle",(function(){return O})),r.d(t,"startWorkout",(function(){return h})),r.d(t,"addLift",(function(){return g})),r.d(t,"addSet",(function(){return m})),r.d(t,"deleteSet",(function(){return x})),r.d(t,"updateSet",(function(){return y})),r.d(t,"deleteLift",(function(){return v})),r.d(t,"updateReps",(function(){return w})),r.d(t,"updateWeight",(function(){return S}));var n=r(23),o=r.n(n),c=r(2),i=r.n(c),s=r(46),a=r(45);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={workoutTitle:"",isActive:!1,exercises:{},exerciseOrder:[],startTime:"",finishTime:"",totalSets:0,totalVolume:0,status:"idle"},f=Object(s.createSlice)({name:"current_workout",initialState:d,reducers:{startWorkout:function(e,t){var r=(new Date).toLocaleTimeString();e.startTime=r,e.isActive=!0},setWorkoutTitle:function(e,t){var r=t.payload;e.workoutTitle=r},updateReps:function(e,t){var r=t.payload,n=r.liftId,o=r.setId,c=r.reps;e.exercises[n].sets[o].reps=c},updateWeight:function(e,t){var r=t.payload,n=r.liftId,o=r.setId,c=r.weight;e.exercises[n].sets[o].weight=c},addLift:function(e,t){t.payload.map((function(t,r){var n=t.exerciseId,o=t.exerciseName,c=t.liftId,i=t.sets,s=void 0===i?{}:i;e.exercises[c]={exerciseId:n,exerciseName:o,sets:s,liftNumber:r,liftId:c},e.exerciseOrder.push(c)}))},deleteLift:function(e,t){var r=t.payload.liftId;delete e.exercises[r];var n=e.exerciseOrder.indexOf(r);e.exerciseOrder.splice(n,1)},addSet:function(e,t){var r=t.payload,n=r.liftId,o=r.setId,c=Object.keys(e.exercises[n].sets).length+1,s=i()({},o,{weight:"0",reps:"0",rpe:0,setNumber:c,setId:o});e.exercises[n].sets[o]=s[o],e.exerciseOrder.push(n)},deleteSet:function(e,t){var r=t.payload,n=r.setId,o=r.liftId,c=l({},e);delete c.exercises[o].sets[n];var i=Object.values(c.exercises[o].sets).map((function(e,t){return[e.setId,l(l({},e),{},{setNumber:t+1})]})),s=Object.fromEntries(i);c.exercises[o].sets=s},updateSet:function(e,t){var r=t.payload,n=r.liftId,o=r.setId,c=r.newSet;e.exercises[n].sets[o]=l({},c)},cancelWorkout:function(e){return d}},extraReducers:function(e){e.addCase(j.fulfilled,(function(e,t){Object.assign(e,d),e.status="success"})).addCase(j.pending,(function(e,t){e.status="pending"})).addCase(j.rejected,(function(e,t){e.status="error"}))}}),j=Object(s.createAsyncThunk)("current_workout/saveWorkout",function(){var e=o()((function*(e,t){var r=(0,t.getState)(),n={finished_at:null,date:(new Date).toISOString().split("T")[0],user_id:r.userSlice.user.userId,workout_name:r.currentWorkoutSlice.workoutTitle},c=yield a.supabase.from("workouts").insert(n).select("id"),i=c.data,s=c.error;if(s)return console.error(s);var u=i[0].id;Object.values(r.currentWorkoutSlice.exercises).map(function(){var e=o()((function*(e){var t={exercise_id:e.exerciseId,exercise_name:e.exerciseName,user_id:r.userSlice.user.userId,workout_id:u},n=yield a.supabase.from("lifts").insert(t).select("lift_id"),o=n.data,c=n.error;if(c)return console.error(c);var i=Object.values(e.sets).map((function(t){return{weight:t.weight,reps:t.reps,rpe:t.rpe,setNumber:t.setNumber,liftId:o[0].lift_id,exerciseId:e.exerciseId}})),s=yield a.supabase.from("set").insert(i).select("id"),l=(s.data,s.error);return l?console.error(l):void 0}));return function(t){return e.apply(this,arguments)}}())}));return function(t,r){return e.apply(this,arguments)}}()),b=f.actions,p=b.cancelWorkout,O=b.setWorkoutTitle,h=b.startWorkout,g=b.addLift,m=b.addSet,x=b.deleteSet,y=b.updateSet,v=b.deleteLift,w=b.updateReps,S=b.updateWeight;t.default=f.reducer},61:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(72);function o(){var e=Object(n.useColorModeValue)("coolGray.50","coolGray.800"),t=Object(n.useColorModeValue)("#f9fafb","#1f2937"),r=Object(n.useColorModeValue)("#0369a1","#f9fafb"),o=Object(n.useColorModeValue)("coolGray.700","coolGray.50"),c=Object(n.useColorModeValue)("coolGray.600","coolGray.100"),i=Object(n.useColorModeValue)("coolGray.600","coolGray.50");return{screenColorMode:e,h1ColorMode:o,ctaBgColorMode:Object(n.useColorModeValue)("info.100","info.700"),ctaBorderColorMode:Object(n.useColorModeValue)("info.500","info.100"),ctaTextColorMode:Object(n.useColorModeValue)("info.600","info.100"),ctaIconColorMode:Object(n.useColorModeValue)("#0284c7","#bce3f5"),pTextColorMode:i,screenColorModeHex:t,elipsesColorMode:Object(n.useColorModeValue)("#0369a1","#e0f2fe"),elipsesBgColorMode:Object(n.useColorModeValue)("#e0f2fe","#0369a1"),avatarBgColorMode:Object(n.useColorModeValue)("info.500","info.700"),bottomNavColorMode:r,h2ColorMode:c,buttonColorMode:Object(n.useColorModeValue)("info.400","info.700")}}},636:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Lr}));var n=r(639),o=r(196),c=r(2),i=r.n(c),s=r(23),a=r.n(s),u=r(3),l=r.n(u),d=r(926),f=r(364),j=r(362),b=r(0),p=r.n(b);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=r(632),m=r(630),x=r(291),y=r(633),v=r(631),w=r(949),S=r(947),I=r(948),k=r(139),C=r(61),P=r(30),A=r(935),E=r(220),D=r(938),W=r(939),T=r(12),z=r.n(T),_=r(187),F=r(37),M={backgroundGradientFrom:"#FFFF",backgroundGradientFromOpacity:0,color:function(){return"#808080"},barPercentage:.6,barRadius:3,decimalPlaces:0,propsForBackgroundLines:{strokeWidth:"0.3",strokeLinecap:"round",strokeDasharray:"0, 0",x1:20},propsForLabels:{}},L=(F.default.get("window").width,r(13)),R=r.n(L),N=r(24);var G=r(45),V=function(e){var t=Object(b.useState)([]),r=l()(t,2),n=r[0],o=r[1],c=Object(b.useState)(!0),i=l()(c,2),s=i[0],u=i[1],d=Object(b.useState)(!1),f=l()(d,2),j=f[0],p=f[1];return Object(b.useEffect)((function(){(function(){var t=a()((function*(){try{var t=yield G.supabase.from("workouts").select("date").match({user_id:e}).limit(30).order("date",{ascending:!1}),r=t.data,n=t.error;if(n)return console.error(n),p(!0),void u(!1);o(r),u(!1)}catch(j){console.error(j),p(!0)}}));return function(){return t.apply(this,arguments)}})()()}),[]),{workoutDates:n,isLoading:s,error:j}},H=function(){var e=Object(b.useState)([]),t=l()(e,2),r=t[0],n=t[1],o=Object(b.useState)([]),c=l()(o,2),i=c[0],s=c[1],a=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,u=V(a),d=u.workoutDates,f=u.isLoading;return Object(b.useEffect)((function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=R()().startOf("week"),n=r.format("DD/MM");t.push(n);for(var o=0;o<e;o++){var c=r.day(-7);t.push(c.format("DD/MM"))}return t.reverse()}(6),t=d.map((function(e){return R()(e.date).startOf("week").format("DD/MM")})),r={};e.forEach((function(e){return r[e]=0}));var o=t.reduce((function(e,t){return e[t]>=0&&++e[t],e}),r);n(Object.keys(o)),s(Object.values(o))}),[f]),{labels:r,values:i,isLoading:f}},B=F.default.get("window").width,U=r(10),J=function(){var e=Object(b.useState)(!0),t=l()(e,2),r=t[0],n=t[1];return Object(b.useEffect)((function(){"web"===U.default.OS?n(!1):("android"===U.default.OS||"ios"===U.default.OS)&&n(!0)}),[]),r},X=r(957),K=r(1),Y=function(){var e=H(),t=e.labels,r=e.values,n=e.isLoading,o=J()?B:500,c=Math.max.apply(Math,z()(r)),i=c<4?c:4,s={labels:t,datasets:[{data:r,colors:[function(){return"#702963"},function(){return"#702963"},function(){return"#702963"},function(){return"#702963"},function(){return"#702963"},function(){return"#702963"},function(){return"#702963"}]}]};return Object(K.jsx)(X.Skeleton,{height:160,w:"full",startColor:"gray.50",endColor:"gray.100",isLoaded:!n,children:Object(K.jsx)(_.BarChart,{yAxisLabel:"",yAxisSuffix:"",data:s,width:o-49,height:160,chartConfig:M,showBarTops:!1,withInnerLines:!0,segments:i,withCustomBarColorFromData:!0,yAxisInterval:1,style:{marginVertical:8,borderRadius:16,paddingRight:25}})})},q=r(365),Q=function(e){var t=e.userId,r=e.limit,n=e.exerciseId,o=Object(b.useState)(!0),c=l()(o,2),i=c[0],s=c[1],u=Object(b.useState)(!1),d=l()(u,2),f=d[0],j=d[1],p=Object(b.useState)([]),O=l()(p,2),h=O[0],g=O[1];return Object(b.useEffect)((function(){(function(){var e=a()((function*(){try{var e=yield G.supabase.from("lifts").select("exercise_id, exercise_name, lift_id, user_id, set (weight, reps), workouts (id, date)").match({user_id:t,exercise_id:n}).order("lift_id",{ascending:!1}).limit(r),o=e.data,c=e.error;c&&console.error(c),o&&g(o),s(!1)}catch(f){console.error(f),j(!0),s(!1)}}));return function(){return e.apply(this,arguments)}})()()}),[]),{data:h,error:f,isLoading:i}},Z=function(e){var t=e.exerciseId,r=Object(b.useState)(!1),n=l()(r,2),o=n[0],c=n[1],i=Object(b.useState)([]),s=l()(i,2),a=s[0],u=s[1],d=Object(b.useState)([]),f=l()(d,2),j=f[0],p=f[1],O=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,h=Q({userId:O,limit:7,exerciseId:t}),g=h.data,m=h.isLoading,x=h.error;return Object(b.useEffect)((function(){if(!m&&!x){var e=null==g?void 0:g.map((function(e){return{sets:e.set,date:e.workouts.date}})),t=function(e){return e.map((function(e){var t=e.sets,r=e.date;return t.reduce((function(e,t){return e.weight*e.reps>t.weight*e.reps?e:{bestSet:t,date:r}}),{})}))},r=t(e).map((function(e){return e.date})).reverse().map((function(e){return R()(e).format("DD/MM")})),n=t(e).reverse().map((function(e){return e.bestSet})),o=Object(q.default)(n);p(o),u(r),c(!0)}}),[g,m]),{labels:a,values:j,isLoaded:o}},$={backgroundGradientFrom:"#FFFFFF",backgroundGradientTo:"#FFFFFF",color:function(){return"#808080"},decimalPlaces:1,propsForDots:{r:"3",strokeWidth:"2",stroke:"#7851a9",fill:"transparent"},propsForBackgroundLines:{strokeWidth:"0.3",strokeLinecap:"round",strokeDasharray:"0, 0"},propsForLabels:{},fillShadowGradient:"#FFFFFF",fillShadowGradientOpacity:0,bezier:!0},ee=(F.default.get("window").width,function(e){var t=e.exerciseId,r=Z({exerciseId:t}),n=r.labels,o=r.values,c=r.isLoaded,i=J()?B:500,s={labels:n,datasets:[{data:o,color:function(e){return"rgba(90, 34, 139, 0.3)"}}]};return Object(K.jsx)(X.Skeleton,{height:160,w:"full",startColor:"gray.50",endColor:"gray.100",isLoaded:c,children:Object(K.jsx)(_.LineChart,{data:s,width:i,height:160,yAxisLabel:"",chartConfig:$,yAxisSuffix:"kg",withInnerLines:!0,bezier:!0,style:{marginVertical:8,marginHorizontal:-10,borderRadius:16}})})}),te=r(956),re=r(101),ne=r(302),oe=function(){var e=Object(b.useState)(null),t=l()(e,2),r=t[0],n=t[1],o=Object(b.useState)(""),c=l()(o,2),i=c[0],s=c[1],u=Object(b.useState)(!1),d=l()(u,2),f=d[0],j=d[1],p=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,O=function(){var e=a()((function*(){j(!0);try{var e=yield G.supabase.from("workouts").select("*",{count:"exact"}).eq("user_id",p),t=(e.data,e.count),r=e.error;if(r)return s(r.message),void j(!1);n(t),j(!1)}catch(o){s(o.message),j(!1)}}));return function(){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){O()}),[]),{isLoading:f,error:i,totalWorkouts:r}},ce=function(){var e=Object(C.default)().h1ColorMode,t=Object(C.default)().avatarBgColorMode,r=oe(),n=r.totalWorkouts,o=r.isLoading;return Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(E.default,{w:"full",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[Object(K.jsx)(te.Avatar,{size:"lg",marginY:3,backgroundColor:t,marginRight:"3",children:Object(K.jsx)(re.default,{color:"info.50",fontSize:"lg",fontWeight:"bold",children:"AM"})}),Object(K.jsxs)(ne.default,{flex:1,pl:2,children:[Object(K.jsx)(re.default,{fontSize:"md",fontWeight:"semibold",color:e,children:"Ahmed McGarry"}),Object(K.jsx)(X.Skeleton,{isLoaded:!o,w:"32",h:"6",endColor:"gray.200",children:Object(K.jsxs)(re.default,{fontSize:"sm",color:"coolGray.400",children:[n," Workouts"]})})]})]})})},ie=r(125),se=r(276);function ae(){var e=Object(N.useAppDispatch)(),t=Object(N.useAppSelector)((function(e){return e.exerciseListSlice})),r=t.exerciseList,n=t.status;return Object(b.useEffect)((function(){Object.keys(r).length||e(Object(se.fetchAllExercises)())}),[n]),{exerciseList:r,status:n}}var ue=r(99),le=r(6),de=r.n(le),fe=r(585),je=r(38),be=r(652),pe=["children","pressHandler","hasChevron"];function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=function(e){var t=e.children,r=e.pressHandler,n=e.hasChevron,o=void 0!==n&&n,c=de()(e,pe);return Object(K.jsx)(be.Button,he(he({onPress:r,variant:"filled",justifyContent:"start",backgroundColor:"coolGray.100",rightIcon:o?Object(K.jsx)(je.FontAwesomeIcon,{icon:fe.faChevronRight,size:12,color:"#6b7280"}):void 0},c),{},{children:Object(K.jsx)(re.default,{color:"coolGray.600",fontWeight:"semibold",children:t})}))},me=r(74);function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e){var t=Object(b.useState)("CHOOSE_WIDGET_TYPE"),r=l()(t,2),n=r[0],o=r[1],c=e.isVisible,i=e.setIsVisible,s=ae(),a=s.exerciseList,u=s.status,d=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,f=Object(N.useAppDispatch)(),j=function(){return o("CHOOSE_EXERCISE_TO_TRACK")},p=function(e){var t={title:e.title,type:e.type,subtitle:e.subtitle,user_id:d};f(Object(ue.createWidget)(ye({},t))),i(!1)};return Object(K.jsx)(me.default,{header:"Create Widget",isOpen:c,onClose:i,size:"sm",shadow:8,children:"CHOOSE_WIDGET_TYPE"===n?Object(K.jsx)(ie.Modal.Body,{children:Object(K.jsxs)(ne.default,{space:1,children:[Object(K.jsx)(ge,{pressHandler:function(){return p({title:"Session Frequncy",subtitle:"",type:"SESSION_FREQUENCY"})},children:"Session Frequency"}),Object(K.jsx)(ge,{pressHandler:function(){return p({title:"Weight Tracker",subtitle:"",type:"WEIGHT_TRACKER"})},children:"Weight Tracker"}),Object(K.jsx)(ge,{hasChevron:!0,pressHandler:j,children:"1 Rep Max Estimator"})]})}):"CHOOSE_EXERCISE_TO_TRACK"===n?Object(K.jsx)(ie.Modal.Body,{children:Object(K.jsx)(ne.default,{space:1,children:a.map((function(e){var t=e.exercise_name,r=e.id;return Object(K.jsx)(ge,{pressHandler:function(){return function(e,t){var r={title:t+" Progression",type:"ONE_REP_MAX_EST",subtitle:"1RM Estimate",exerciseId:e,user_id:d};f(Object(ue.createWidget)(ye({},r))),i(!1),o("CHOOSE_WIDGET_TYPE")}(r,t)},children:t},r)}))})}):"CHOOSE_EXERCISE_TO_TRACK"===n&&"pending"===u?Object(K.jsx)(X.Skeleton,{h:"full"}):void 0})}var we=["size"];function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke=function(e){var t=e.size,r=de()(e,we),n=Object(C.default)(),o=n.elipsesColorMode,c=n.elipsesBgColorMode;return Object(K.jsx)(k.default,Ie(Ie({justifyContent:"center",alignItems:"center",backgroundColor:c,paddingX:2,paddingY:1,borderRadius:5},r),{},{children:Object(K.jsx)(d.default,{name:"ellipsis-h",size:t,color:o})}))},Ce=function(e){var t=e.renderModalComponent;return Object(K.jsxs)(K.Fragment,{children:[function(){var t=e.title,r=e.subtitle,n=e.setModalIsVisible;return Object(K.jsxs)(P.default,{children:[Object(K.jsxs)(P.default,{flexDirection:"row",alignItems:"center",children:[Object(K.jsx)(A.default,{size:"sm",flex:1,children:t}),Object(K.jsx)(ke,{onPress:function(){return n(!0)},size:14})]}),Object(K.jsx)(re.default,{fontSize:"sm",fontWeight:"semibold",marginY:1,opacity:70,children:r})]})}(),t()]})},Pe=(r(958),r(153)),Ae=function(e){var t=e.modalIsVisible,r=e.setModalIsVisible,n=e.widgetId,o=Object(N.useAppDispatch)();return Object(K.jsx)(me.default,{header:"Settings",isOpen:t,onClose:function(){return r(!1)},saveHandler:function(){return null},children:Object(K.jsx)(ge,{pressHandler:function(){return function(e){o(Object(ue.deleteWidget)(Number(e))),r(!1)}(n)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Pe.faXmark,size:13,color:"red"}),children:"Delete"})})},Ee=function(e){var t=e.modalIsVisible,r=e.setModalIsVisible,n=e.widgetId,o=Object(N.useAppDispatch)();return Object(K.jsx)(me.default,{header:"Settings",isOpen:t,onClose:function(){return r(!1)},saveHandler:function(){return null},children:Object(K.jsx)(ge,{pressHandler:function(){return function(e){o(Object(ue.deleteWidget)(Number(e))),r(!1)}(n)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Pe.faXmark,size:13,color:"red"}),children:"Delete"})})},De=function(e){var t=e.modalIsVisible,r=e.setModalIsVisible,n=e.widgetId,o=Object(N.useAppDispatch)();return Object(K.jsx)(me.default,{header:"Settings",isOpen:t,onClose:function(){return r(!1)},saveHandler:function(){return null},children:Object(K.jsx)(ge,{pressHandler:function(){return function(e){o(Object(ue.deleteWidget)(Number(e))),r(!1)}(n)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Pe.faXmark,size:13,color:"red"}),children:"Delete"})})},We=function(e){var t=e.title,r=e.subtitle,n=e.children,o=e.widgetId,c=Object(b.useState)(!1),i=l()(c,2),s=i[0],a=i[1];return Object(K.jsxs)(P.default,{borderWidth:1,borderColor:"coolGray.200",backgroundColor:"white",borderRadius:10,padding:3,overflow:"hidden",flex:1,my:1,children:[Object(K.jsx)(Ce,{title:t,subtitle:r,modalIsVisible:s,setModalIsVisible:a,renderModalComponent:function(){var t=e.type;return"SESSION_FREQUENCY"===t?Object(K.jsx)(Ae,{modalIsVisible:s,setModalIsVisible:a,widgetId:o}):"ONE_REP_MAX_EST"===t?Object(K.jsx)(Ee,{modalIsVisible:s,setModalIsVisible:a,widgetId:o}):"WEIGHT_TRACKER"===t?Object(K.jsx)(De,{modalIsVisible:s,setModalIsVisible:a,widgetId:o}):Object(K.jsx)(K.Fragment,{})}}),n]})},Te=r(590),ze=["children","isHollow"];function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me=function(e){var t=e.children,r=e.isHollow,n=void 0!==r&&r,o=de()(e,ze),c=Object(C.default)(),i=c.ctaBgColorMode,s=c.ctaTextColorMode,a=c.ctaBorderColorMode,u=n?"transparent":i,l=n?"transparent":a,d=n?"ghost":"outline";return Object(K.jsx)(be.Button,Fe(Fe({size:"xs",borderRadius:"3xl",borderWidth:1,borderColor:l,backgroundColor:u,variant:d},o),{},{children:Object(K.jsx)(re.default,{fontSize:"2xs",color:s,textTransform:"uppercase",fontWeight:"bold",children:t})}))},Le=r(591),Re=r(592),Ne=r(642),Ge=r(589),Ve=r(151),He=function(e){var t=e.isVisible,r=e.setIsVisible,n=Object(b.useState)(""),o=l()(n,2),c=o[0],i=o[1],s=Object(N.useAppDispatch)(),a=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId;return Object(K.jsx)(me.default,{isOpen:t,onClose:r,header:"Add New Measurement",saveHandler:function(){""!==c&&(!/^\d+$/.test(c)&&c.length<=3&&c.length,s(Object(Ve.addWeight)({weight:c,userId:a})),r(!1))},children:Object(K.jsx)(Ne.Input,{placeholder:"Add Weight",fontSize:"sm",keyboardType:"numeric",variant:"filled",backgroundColor:"coolGray.100",rounded:5,onChangeText:function(e){return i(e)},h:9,leftElement:Object(K.jsx)(je.FontAwesomeIcon,{icon:Ge.faWeightScale,size:15,style:{marginLeft:12,marginRight:6,color:"darkgray"}})})})},Be=function(){var e=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,t=Object(N.useAppSelector)((function(e){return e.weightSlice})).status,r=Object(N.useAppSelector)((function(e){return e.weightSlice.weight})),n=r.labels,o=r.values,c=Object(N.useAppDispatch)(),i="pending"===t;return Object(b.useEffect)((function(){"idle"===t&&c(Object(Ve.getWeight)({userId:e}))}),[t]),{isLoading:i,labels:n,values:o}},Ue={backgroundGradientFrom:"#FFFFFF",backgroundGradientTo:"#FFFFFF",color:function(){return"#808080"},decimalPlaces:1,propsForDots:{r:"3",strokeWidth:"2",stroke:"#7851a9",fill:"transparent"},propsForBackgroundLines:{strokeWidth:"0.3",strokeLinecap:"round",strokeDasharray:"0, 0"},propsForLabels:{},fillShadowGradient:"#FFFFFF",fillShadowGradientOpacity:0,bezier:!0},Je=F.default.get("window").width,Xe=function(){var e=Be(),t=e.isLoading,r=e.labels,n=e.values,o=J()?Je:500,c={labels:r,datasets:[{data:n,color:function(e){return"rgba(90, 34, 139, 0.3)"}}]};return Object(K.jsx)(X.Skeleton,{height:160,w:"full",startColor:"gray.50",endColor:"gray.100",isLoaded:!t,children:Object(K.jsx)(_.LineChart,{data:c,width:o,height:160,yAxisLabel:"",chartConfig:Ue,yAxisSuffix:"kg",withInnerLines:!0,bezier:!0,style:{marginVertical:8,marginHorizontal:-10,borderRadius:16}})})},Ke=r(106),Ye=r(170),qe=function(e){var t=e.isVisible,r=e.setIsVisible,n=Object(N.useAppDispatch)(),o=J(),c=function(){var e=a()((function*(){if(o)try{yield Ye.default.removeItem("JACKED__SESSION_TOKEN")}catch(e){console.log(e)}}));return function(){return e.apply(this,arguments)}}(),i=function(){n(Object(Ke.logout)()),c(),o||localStorage.removeItem("JACKED__SESSION_TOKEN"),r(!1)};return Object(K.jsx)(me.default,{header:"Settings",isOpen:t,onClose:r,size:"sm",children:Object(K.jsx)(ge,{pressHandler:function(){return i()},colorScheme:"red",children:"Logout"})})};function Qe(e){e.navigation;var t=Object(b.useState)(!1),r=l()(t,2),n=r[0],o=r[1],c=Object(b.useState)(!1),i=l()(c,2),s=i[0],a=i[1],u=Object(b.useState)(!1),d=l()(u,2),f=d[0],j=d[1],p=Object(N.useAppSelector)((function(e){return e.widgetSlice})).widgets,O=Object(C.default)(),h=O.h1ColorMode,g=O.screenColorMode,m=O.ctaIconColorMode,x=Object(N.useAppDispatch)(),y=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,v=Object(b.useState)(!1),w=l()(v,2),S=w[0],I=w[1];Object(b.useEffect)((function(){x(Object(ue.getWidgets)({userId:y}))}),[]);var k=function(){I(!0),x(Object(Ve.getWeight)({userId:y})),I(!1)},T=function(){return j(!0)};return Object(K.jsxs)(W.View,{padding:"3",backgroundColor:g,flexGrow:1,flex:1,_web:{maxW:"lg",w:"100%",mx:"auto"},children:[Object(K.jsx)(Me,{isHollow:!0,pl:0,justifyContent:"flex-start",onPress:function(){return a(!0)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Re.faRuler,size:20,color:m}),children:"Add Weight"}),Object(K.jsxs)(E.default,{justifyContent:"space-between",alignItems:"center",my:2,children:[Object(K.jsx)(A.default,{size:"xl",color:h,children:"My Profile"}),Object(K.jsx)(Me,{onPress:T,leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Le.faGear,size:12,color:m}),children:"Settings"})]}),Object(K.jsx)(ce,{}),Object(K.jsxs)(P.default,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginY:5,children:[Object(K.jsx)(A.default,{size:"sm",children:"Dashboard"}),Object(K.jsx)(Me,{onPress:function(){return o(!0)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Te.faWrench,color:m,size:12}),children:"Add Widget"})]}),Object(K.jsx)(D.FlatList,{data:Object.keys(p),renderItem:function(e){return function(e){var t=p[e],r=t.type,n=t.title,o=t.subtitle,c=(p[e]||null).exerciseId,i={ONE_REP_MAX_EST:Object(K.jsx)(ee,{exerciseId:c}),SESSION_FREQUENCY:Object(K.jsx)(Y,{}),WEIGHT_TRACKER:Object(K.jsx)(Xe,{})};return Object(K.jsx)(We,{type:r,title:n,subtitle:o,widgetId:e,children:i[r]})}(e.item)},onRefresh:k,refreshing:S}),Object(K.jsx)(ve,{isVisible:n,setIsVisible:o}),Object(K.jsx)(He,{isVisible:s,setIsVisible:a}),Object(K.jsx)(qe,{isVisible:f,setIsVisible:j})]})}var Ze=r(594),$e=r(44),et=r(910),tt=r(283),rt=function(){var e=Object(N.useAppSelector)((function(e){return e.workoutHistorySlice})),t=e.status,r=e.history,n=oe().totalWorkouts;return r.length===n?Object(K.jsx)(et.default,{mt:2,children:Object(K.jsx)(re.default,{color:"coolGray.400",fontSize:"sm",children:"You have reached the end!"})}):"pending"!==t?null:Object(K.jsxs)(E.default,{justifyContent:"center",w:"full",space:2,alignItems:"center",h:"16",children:[Object(K.jsx)(tt.default,{colorScheme:"info"}),Object(K.jsx)(re.default,{children:"Loading"})]})},nt=r(277);var ot=Object(b.lazy)((function(){return r.e(4).then(r.bind(null,966))}));function ct(){var e=Object(b.useState)(1),t=l()(e,2),r=t[0],n=t[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Object(N.useAppDispatch)(),r=Object(N.useAppSelector)((function(e){return e.userSlice.user})),n=r.userId,o=Object(N.useAppSelector)((function(e){return e.workoutHistorySlice})),c=o.history;return Object(b.useEffect)((function(){t(Object(nt.getHistory)({userId:n,page:e}))}),[e]),{history:c}}(r).history,c=Object(C.default)(),i=c.screenColorMode,s=c.h1ColorMode,a=Object($e.useNavigation)(),u="fulfilled"===Object(N.useAppSelector)((function(e){return e.workoutHistorySlice.status}));return Object(K.jsxs)(W.View,{backgroundColor:i,padding:3,paddingBottom:10,h:"full",_web:{maxW:"lg",w:"100%",mx:"auto"},children:[Object(K.jsxs)(E.default,{justifyContent:"space-between",alignItems:"center",my:2,children:[Object(K.jsx)(A.default,{size:"xl",color:s,children:"History"}),Object(K.jsx)(Me,{onPress:function(){return a.navigate("Calendar")},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Ze.faCalendar,size:12,color:"#0284c7"}),children:"Calendar"})]}),Object(K.jsx)(D.FlatList,{data:o,initialNumToRender:6,keyExtractor:function(e){var t=e.id;return String(t)},flexGrow:1,onEndReached:function(){n((function(e){return e+1}))},onEndReachedThreshold:.1,ListFooterComponent:Object(K.jsx)(rt,{}),renderItem:function(e){var t=e.item,r=t.workout_name,n=t.lifts,o=t.date,c=t.id;return Object(K.jsx)(b.Suspense,{fallback:Object(K.jsx)(X.Skeleton,{startColor:"gray.50",endColor:"gray.100",h:"40",my:2}),children:Object(K.jsx)(ot,{workoutName:r,lifts:n,date:o,isLoaded:u,workoutId:c})})}})]})}var it={prefixes:[r(640).createURL("/")],config:{screens:{Auth:"auth",Welcome:"welcome",CreateTemplate:"create-template",Root:{path:"",screens:{Exercises:"exercises",History:"history",Profile:{path:"profile",screens:{path:"settings"}},Start:{path:"start",screens:{path:"active-workout"}}}}}}},st=r(637),at=function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+"/"+r+"/"+t};function ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(){var e=Object(N.useAppSelector)((function(e){return e.workoutHistorySlice.history})).map((function(e){return e.date})).reduce((function(e,t){return lt(lt({},e),{},i()({},t,{selected:!0}))}),{}),t=at(),r=J(),n=F.default.get("window").width,o=r?n:500;return Object(K.jsx)(W.View,{backgroundColor:"white",flex:1,_web:{maxW:"lg",w:"100%",mx:"auto",backgroundColor:"white",display:"flex"},children:Object(K.jsx)(st.CalendarList,{maxDate:t,markedDates:e,minDate:"2022-01-01",calendarWidth:o})})}var ft=r(929),jt=function(){var e=Object(b.useState)(0),t=l()(e,2),r=t[0],n=t[1],o=Object(b.useState)(""),c=l()(o,2),i=c[0],s=c[1];Object(b.useEffect)((function(){var e=setInterval((function(){n((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(b.useEffect)((function(){a()}),[r]);var a=function(){var e=Math.floor(r/3600).toString().padStart(2,"0"),t=r%3600,n=Math.floor(t/60).toString().padStart(2,"0"),o=t%60,c=Math.ceil(o).toString().padStart(2,"0");s(e+":"+n+":"+c)};return Object(K.jsx)(P.default,{width:"20",backgroundColor:"coolGray.100",borderRadius:5,flexDir:"row",justifyContent:"center",py:1,px:2,children:Object(K.jsx)(re.default,{color:"coolGray.400",children:i})})},bt=r(59),pt=r(609),Ot=r(214),ht=r(608),gt=r(297);var mt=r(354),xt=function(e){var t=e.exerciseId,r=e.setNumber,n=e.weight,o=e.reps,c=e.template,i=Object(b.useState)(!1),s=l()(i,2),u=s[0],d=s[1],f=Object(b.useRef)(null),j=function(e){var t=Object(b.useState)(),r=l()(t,2),n=r[0],o=r[1],c=e.exerciseId,i=e.setNumber;Object(b.useEffect)((function(){s()}),[]);var s=function(){var e=a()((function*(){try{try{var e=yield G.supabase.from("set").select("weight, reps, liftId, setNumber, rpe").eq("exerciseId",c).eq("setNumber",i).order("liftId",{ascending:!1}).limit(1),t=e.data,r=e.error;if(r)return console.error(r),null;var n=t[0]||{},s=n.weight,a=n.reps,u=n.rpe;if(void 0===s||void 0===a||void 0===u)return null;o({reps:a,weight:s,rpe:u,setNumber:i})}catch(r){return console.error(r),null}}catch(r){console.error(r)}}));return function(){return e.apply(this,arguments)}}();return n}({exerciseId:t,setNumber:r}),p=Object(N.useAppDispatch)(),O=u?"success.100":"white",h=Object(b.useRef)(),g=Object(b.useRef)(),m=function(){d((function(e){return!e}))};return Object(K.jsx)(gt.Swipeable,{renderRightActions:function(){return Object(K.jsx)(P.default,{backgroundColor:"red.500",w:"full",justifyContent:"center",flexDir:"row",alignItems:"center",pr:6,children:Object(K.jsx)(re.default,{fontWeight:"700",textAlign:"center",color:"white",children:"Delete Set"})})},onSwipeableOpen:function(){var t=e.liftId,n=e.setId;p(Object(bt.deleteSet)({liftId:t,setId:n,setNumber:r})),f.current&&f.current.close()},rightThreshold:10,ref:f,children:Object(K.jsxs)(E.default,{alignItems:"center",justifyContent:"space-between",backgroundColor:O,paddingX:2,children:[Object(K.jsx)(P.default,{flex:1,children:Object(K.jsx)(k.default,{w:"1/2",alignItems:"center",justifyContent:"center",borderRadius:6,zIndex:"-1",children:Object(K.jsx)(re.default,{color:"text.600",textAlign:"center",w:5,fontWeight:700,children:r})})}),function(){if(!j)return Object(K.jsx)(P.default,{flex:2,children:Object(K.jsx)(je.FontAwesomeIcon,{icon:mt.faMinus,size:18})});var e=(null==j?void 0:j.weight)+" kg x "+(null==j?void 0:j.reps);return Object(K.jsx)(re.default,{fontSize:"xs",opacity:50,flex:2,fontWeight:700,children:e})}(),Object(K.jsx)(P.default,{flex:2,py:1,children:Object(K.jsx)(Ne.Input,{placeholder:n,backgroundColor:"whitesmoke",keyboardType:"numeric",isDisabled:u,onChangeText:function(t){return function(t){var r=e.setId,n={liftId:e.liftId,setId:r,weight:t};p(Object(bt.updateWeight)(n))}(t)},w:16,fontWeight:700,textAlign:"center",color:"coolGray.700",ref:h})}),Object(K.jsx)(P.default,{flex:2,py:1,children:Object(K.jsx)(Ne.Input,{placeholder:o,backgroundColor:"whitesmoke",keyboardType:"numeric",isDisabled:u,onChangeText:function(t){return function(t){var r=e.setId,n={liftId:e.liftId,setId:r,reps:t};p(Object(bt.updateReps)(n))}(t)},w:16,fontWeight:700,textAlign:"center",color:"text.900",ref:g})}),Object(K.jsx)(k.default,{alignItems:"flex-end",flexShrink:1,onPress:m,children:Object(K.jsx)(je.FontAwesomeIcon,{icon:c?mt.faMinus:ht.faCheck,size:15})})]})})},yt=1,vt=function(e){var t=e+"-"+yt.toString().padStart(2,"0");return yt++,t};function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var It=function(e){var t=e.exerciseName,r=e.sets,n=e.liftId,o=e.exerciseId,c=Object(N.useAppDispatch)(),i=Object(b.useRef)(null),s=function(){var t=e.template;return Object(K.jsx)(k.default,{flexShrink:1,padding:1,children:Object(K.jsx)(je.FontAwesomeIcon,{icon:t?Ot.faLock:pt.faCheckDouble,size:10})})};return Object(K.jsx)(gt.Swipeable,{ref:i,renderRightActions:function(){return Object(K.jsx)(P.default,{backgroundColor:"red.500",w:"full",justifyContent:"center",flexDir:"row",alignItems:"center",pr:6,children:Object(K.jsx)(re.default,{fontWeight:"700",textAlign:"center",color:"white",children:"Delete Lift"})})},onSwipeableOpen:function(){c(Object(bt.deleteLift)({liftId:n})),i.current&&i.current.close()},rightThreshold:10,containerStyle:{marginVertical:4},children:Object(K.jsxs)(ne.default,{backgroundColor:"white",p:3,children:[function(e){return Object(K.jsx)(A.default,{size:"md",color:"info.400",my:1,padding:2,children:e})}(t),Object(K.jsxs)(E.default,{alignItems:"center",justifyContent:"space-between",my:2,paddingX:2,children:[Object(K.jsx)(A.default,{size:"xs",flexShrink:1,children:"Sets"}),Object(K.jsx)(A.default,{size:"xs",flex:2,textAlign:"center",children:"Previous"}),Object(K.jsx)(A.default,{size:"xs",flex:2,textAlign:"center",mr:1,children:"Kg"}),Object(K.jsx)(A.default,{size:"xs",flex:2,textAlign:"center",mr:4,children:"Reps"}),s()]}),function(t,r){var n=e.template,c=Object.values(t);return Object(K.jsx)(ne.default,{children:c.map((function(e){return Object(b.createElement)(xt,St(St({},e),{},{liftId:r,key:e.setId,exerciseId:o,template:n}))}))})}(r,n),function(e){return Object(K.jsx)(k.default,{w:"full",bg:"whitesmoke",mt:2,onPress:function(){return function(e){var t=vt("set");c(Object(bt.addSet)({liftId:e,setId:t}))}(e)},children:Object(K.jsx)(re.default,{textAlign:"center",py:1,fontWeight:600,children:"Add a set"})})}(n)]},n)})},kt=r(105);function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At=function(e){var t=e.template,n=Object(N.useAppDispatch)(),o=Object(N.useAppSelector)((function(e){return e.currentWorkoutSlice})),c=o.workoutTitle||"Untitled Workout",i=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,s=Object($e.useNavigation)(),a=s.navigate,u=s.goBack,l=Object($e.useRoute)().params,d=function(){n(Object(bt.setWorkoutTitle)(c)),n(Object(bt.saveWorkout)()),u()},f=function(){var e=l.folderId,t=Object.values(o.exercises),r={folId:e,title:c,params:t,userId:i};console.log("templateParams",r),n(Object(bt.setWorkoutTitle)(c)),n(Object(kt.createTemplate)(r)),n(Object(bt.cancelWorkout)()),u()},j=function(){return t?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(et.default,{children:Object(K.jsx)(be.Button,{shadow:1,borderRadius:5,backgroundColor:"green.400",onPress:d,children:Object(K.jsx)(re.default,{color:"green.50",fontWeight:900,textAlign:"center",fontSize:"xs",letterSpacing:"xl",children:"FINISH"})})})};return Object(K.jsxs)(W.View,{flex:1,children:[Object(K.jsx)(Ne.Input,{flexDirection:"row",alignItems:"center",justifyContent:"space-between",value:c,onChangeText:function(e){return function(e){n(Object(bt.setWorkoutTitle)(e))}(e)},borderWidth:0,fontWeight:700,color:"coolGray.700",_focus:{backgroundColor:"white",borderWidth:0,focusOutlineColor:"white"},fontSize:"2xl",editable:!0,mx:2,rightElement:j()}),t?null:Object(K.jsx)(P.default,{paddingX:3,m:2,children:Object(K.jsx)(jt,{})}),function(){var e=o.exercises;return Object.keys(e).length<1?Object(K.jsxs)(P.default,{flexGrow:1,justifyContent:"center",alignItems:"center",children:[Object(K.jsx)(ft.default,{source:r(878),alt:"Personal Trainer Training Client",size:"2xl"}),Object(K.jsx)(re.default,{color:"text.700",opacity:50,fontWeight:"semibold",textTransform:"capitalize",children:"Add some lifts to start your workout!"})]}):Object(K.jsx)(D.FlatList,{data:Object.values(e),renderItem:function(e){var r=e.item;return Object(K.jsx)(It,Pt(Pt({},r),{},{template:t}))},keyExtractor:function(e){return e.liftId},flex:1})}(),Object(K.jsxs)(ne.default,{space:2,mt:2,px:3,children:[t?null:Object(K.jsx)(be.Button,{justifyContent:"center",size:"sm",variant:"subtle",backgroundColor:"red.400",onPress:function(){n(Object(bt.cancelWorkout)()),a("Root",{screen:"Start"})},children:Object(K.jsx)(re.default,{color:"red.50",fontWeight:900,textAlign:"center",children:"Cancel"})}),Object(K.jsx)(be.Button,{onPress:function(){return a("AddExercises")},backgroundColor:"info.400",justifyContent:"center",size:"sm",children:Object(K.jsx)(re.default,{color:"info.50",fontWeight:900,textAlign:"center",children:"Add A Lift"})}),t?Object(K.jsx)(be.Button,{onPress:f,backgroundColor:"success.400",justifyContent:"center",size:"sm",children:Object(K.jsx)(re.default,{color:"success.50",fontWeight:900,textAlign:"center",children:"Save Template"})}):null]})]})},Et=function(){return Object(K.jsx)(W.View,{backgroundColor:"coolGray.50",h:"full",px:1,py:3,_web:{maxW:"lg",w:"100%",mx:"auto"},children:Object(K.jsx)(At,{template:!1})})},Dt=r(940),Wt=function(e){return e.map((function(e){return{title:e.exercise_name[0].toUpperCase(),data:[e]}})).reduce((function(e,t){var r=e.findIndex((function(e){return e.title===t.title}));return-1!==r?e[r].data.push(t.data[0]):e.push(t),e}),[])};function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _t=Object(b.lazy)((function(){return r.e(5).then(r.bind(null,965))})),Ft=function(e){var t=e.showExerciseDetails,r=void 0!==t&&t,n=Object(b.useState)([]),o=l()(n,2),c=o[0],i=o[1],s=ae(),a=s.exerciseList,u=s.status;return Object(K.jsxs)(ne.default,{mt:1,space:3,flex:1,children:[Object(K.jsx)(Ne.Input,{flexDir:"row",justifyContent:"center",alignItems:"center",paddingX:2,borderRadius:5,borderColor:"coolGray.200",backgroundColor:"white",_dark:{backgroundColor:"coolGray.600",borderColor:"coolGray.600"},onChangeText:function(e){return function(e){var t=a.filter((function(t){return t.exercise_name.includes(e)}));i(t)}(e)},fontSize:"md",placeholder:"Search",leftElement:Object(K.jsx)(d.default,{name:"search",color:"black",style:{marginLeft:10,color:"gray"},size:15})}),function(){var e=c.length?Wt(c):Wt(a);return Object(K.jsx)(Dt.SectionList,{sections:e,borderRadius:5,overflow:"hidden",flexGrow:1,renderSectionHeader:function(e){var t=e.section.title;return Object(K.jsx)(re.default,{fontWeight:700,color:"coolGray.300",fontSize:"xs",p:2,children:t})},renderItem:function(e){var t=e.item;return Object(K.jsx)(b.Suspense,{fallback:Object(K.jsx)(X.Skeleton,{w:"full",h:"12",startColor:"gray.50",endColor:"gray.100",my:2}),children:Object(K.jsx)(_t,zt(zt({},t),{},{isLoading:"fulfilled"===u,showExerciseDetails:r}))})},keyExtractor:function(e){return e.id.toString()}})}()]})},Mt=function(){var e=Object(C.default)(),t=e.h1ColorMode,r=e.screenColorMode;return Object(K.jsxs)(W.View,{flex:1,backgroundColor:r,padding:3,_web:{maxW:"lg",w:"100%",mx:"auto"},children:[Object(K.jsx)(A.default,{size:"xl",color:t,my:2,children:"Exercises"}),Object(K.jsx)(Ft,{showExerciseDetails:!0})]})};function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(){var e=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,t=Object(N.useAppSelector)((function(e){return e.currentWorkoutSlice})).exercises,r=Object($e.useNavigation)(),n=Object(N.useAppDispatch)(),o=function(){var o=Object.values(t).map((function(t){return Rt(Rt({},t),{},{userId:e})}));n(Object(bt.addLift)(o)),r.goBack()};return Object(K.jsxs)(W.View,{paddingTop:3,paddingX:3,backgroundColor:"white",h:"full",flex:1,flexGrow:1,_web:{maxW:"lg",w:"100%",mx:"auto"},children:[Object(K.jsx)(A.default,{size:"sm",color:"text.500",my:2,children:"All Exercises"}),Object(K.jsx)(Ft,{showExerciseDetails:!1}),function(){var e=Object.keys(t).length,r=e<1?"Add Exercise":"Add Selected Exercises ("+e+")";return Object(K.jsx)(k.default,{backgroundColor:"info.400",alignItems:"center",py:2,mb:4,onPress:o,children:Object(K.jsx)(re.default,{fontWeight:700,color:"white",children:r})})}()]})},Gt=r(611),Vt=r(941),Ht=function(e){var t=e.isVisible,r=e.setIsVisible,n=e.folId,o=Object(N.useAppDispatch)(),c=Object($e.useNavigation)().navigate,i=function(){o(Object(kt.deleteFolder)(n)),r(!1)},s=function(){r(!1),c("CreateTemplate",{folderId:n})};return Object(K.jsx)(me.default,{isOpen:t,onClose:r,header:"Manage Folder",width:"full",flex:1,children:Object(K.jsxs)(ne.default,{space:2,children:[Object(K.jsx)(ge,{hasChevron:!0,pressHandler:s,children:"Add Template"}),Object(K.jsx)(ge,{pressHandler:i,children:"Delete Folder"})]})})},Bt=r(610),Ut=function(e){var t=e.isVisible,r=e.setIsVisible,n=Object(N.useAppDispatch)();return Object(K.jsx)(me.default,{isOpen:t,onClose:function(){return r(!1)},header:"Template Settings",children:function(){var t=e.templateId;return Object(K.jsx)(ge,{pressHandler:function(){return function(e){n(Object(kt.deleteTemplate)(e)),r(!1)}(t)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Pe.faXmark,size:13,color:"red"}),children:"Delete"})}()})},Jt=function(e){var t=e.title,r=e.exercises,n=e.templateId,o=Object(N.useAppDispatch)(),c=Object(N.useAppSelector)((function(e){return e.userSlice.user})),i=Object(C.default)().pTextColorMode,s=Object($e.useNavigation)().navigate,a=Object(b.useState)(!1),u=l()(a,2),d=u[0],f=u[1],j=function(e,t){var n=e.exerciseName,o=e.exerciseId,c=Object.keys(r).length;return Object(K.jsxs)(p.a.Fragment,{children:[n,function(e){return 1===c||e+1===c?" ":", "}(t)]},o)};return Object(K.jsxs)(k.default,{borderWidth:1,borderColor:"coolGray.200",backgroundColor:"transparent",py:3,px:2,borderRadius:"sm",w:"49%",onPress:function(){var e=c.userId;!function(){var e=c.userId,t=Object.values(r).map((function(t){return{exerciseId:t.exerciseId,exerciseName:t.exerciseName,sets:t.sets,userId:e,liftId:vt("lift")}}));o(Object(bt.addLift)(t))}(),o(Object(bt.setWorkoutTitle)(t)),o(Object(bt.startWorkout)({userId:e})),s("ActiveWorkout")},my:1,mr:1,h:"32",children:[Object(K.jsxs)(ne.default,{space:1,h:"full",overflow:"hidden",children:[Object(K.jsxs)(E.default,{alignItems:"center",mb:1,children:[Object(K.jsx)(A.default,{fontSize:"sm",color:i,flex:1,children:t}),Object(K.jsx)(ke,{size:10,onPress:function(){return f(!0)}})]}),Object(K.jsx)(re.default,{fontSize:"xs",color:i,flex:1,numberOfLines:3,children:Object.values(r).map(j)}),Object(K.jsxs)(E.default,{alignItems:"center",space:2,children:[Object(K.jsx)(je.FontAwesomeIcon,{icon:Bt.faClock,size:10,color:"#d1d5db"}),Object(K.jsx)(re.default,{fontSize:"xs",color:"coolGray.500",children:"2022/10/1"})]})]}),Object(K.jsx)(Ut,{templateId:n,isVisible:d,setIsVisible:f})]})};function Xt(e){var t=Object(b.useState)(!1),r=l()(t,2),n=r[0],o=r[1],c=Object(b.useState)(!1),i=l()(c,2),s=(i[0],i[1],Object(b.useState)(!1)),a=l()(s,2),u=a[0],d=a[1],f=e.templates,j=e.id,p=e.name,O=Object(C.default)().pTextColorMode;return Object(K.jsxs)(P.default,{children:[Object(K.jsx)(k.default,{onPress:function(){return o((function(e){return!e}))},children:Object(K.jsxs)(E.default,{justifyContent:"space-between",children:[Object(K.jsxs)(E.default,{alignItems:"center",space:2,children:[Object(K.jsx)(A.default,{size:"sm",color:O,children:p}),Object(K.jsx)(P.default,{children:Object(K.jsx)(je.FontAwesomeIcon,{icon:x.faChevronDown,color:"#4b5563",style:n?{transform:[{rotate:"-90deg"}]}:void 0,size:11})})]}),Object(K.jsx)(ke,{size:14,margin:1,onPress:function(){return d(!0)}})]})}),Object(K.jsx)(Vt.default,{isOpen:!n,children:Object(K.jsx)(D.FlatList,{data:Object.values(f),numColumns:2,w:"100%",keyExtractor:function(e){return e.tempId},renderItem:function(e){var t=e.item;return Object(K.jsx)(Jt,{title:t.templateName,exercises:t.exercises,templateId:String(t.tempId)},t.tempId)}})}),Object(K.jsx)(Ht,{isVisible:u,setIsVisible:d,folId:j})]},j)}function Kt(e){var t=e.isVisible,r=e.setIsVisible,n=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,o=Object(b.useState)(""),c=l()(o,2),i=c[0],s=c[1],a=Object(N.useAppDispatch)();return Object(K.jsx)(me.default,{isOpen:t,onClose:r,header:"Create Folder",saveHandler:function(){a(Object(kt.createFolder)({title:i,userId:n})),r(!1)},children:Object(K.jsx)(ne.default,{children:Object(K.jsx)(Ne.Input,{placeholder:"Folder Title",fontSize:"md",type:"text",onChangeText:function(e){return s(e)}})})})}var Yt=function(){var e=Object(N.useAppDispatch)(),t=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId;Object(b.useEffect)((function(){e(Object(kt.getUserTemplateData)(t))}),[])};function qt(){var e=Object(b.useState)(!1),t=l()(e,2),r=t[0],n=t[1],o=Object(N.useAppSelector)((function(e){return e.userSlice.user})).userId,c=Object(N.useAppSelector)((function(e){return e.templateSlice})).folders,i=Object(N.useAppSelector)((function(e){return e.currentWorkoutSlice})).isActive,s=Object(C.default)(),a=s.h1ColorMode,u=s.h2ColorMode,d=s.buttonColorMode,f=s.ctaIconColorMode,j=s.screenColorMode,p=Object($e.useNavigation)(),O=Object(N.useAppDispatch)();Yt();var h=function(){O(Object(bt.startWorkout)({userId:o})),p.navigate("ActiveWorkout")},g=function(){p.navigate("ActiveWorkout")},m=function(){return i?Object(K.jsx)(be.Button,{onPress:g,marginY:1,size:"sm",backgroundColor:"green.400",children:Object(K.jsx)(re.default,{fontWeight:"bold",color:"green.50",children:"Continue Workout"})}):Object(K.jsx)(be.Button,{onPress:h,marginY:1,size:"sm",backgroundColor:d,children:Object(K.jsx)(re.default,{fontWeight:"bold",color:"coolGray.100",children:"Start an Empty Workout"})})};return Object(K.jsxs)(W.View,{padding:3,backgroundColor:j,flex:1,_web:{maxW:"lg",w:"100%",mx:"auto"},children:[Object(K.jsxs)(ne.default,{space:2,children:[Object(K.jsx)(A.default,{size:"xl",color:a,my:1,children:"Start A Workout"}),Object(K.jsxs)(P.default,{my:1,children:[Object(K.jsx)(A.default,{fontSize:"lg",color:u,children:"Quick Start"}),m()]}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)(E.default,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",children:[Object(K.jsx)(A.default,{size:"lg",color:u,children:"Folders"}),Object(K.jsx)(Me,{onPress:function(){return n(!0)},leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Gt.faFolder,color:f,size:12}),children:"Add Folder"})]}),Object.values(c).map((function(e){var t=e.id,r=e.name,n=e.templates;return Object(K.jsx)(Xt,{templates:n,id:t,name:r},t)}))]})]}),Object(K.jsx)(Kt,{isVisible:r,setIsVisible:n})]})}function Qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $t(e){var t=Object.assign({},e);return Object(K.jsx)(ft.default,Zt(Zt({},t),{},{source:r(879),alt:"JACKED Logo"}))}var er=r(355),tr=r(946),rr=r(955),nr=["children","textDark"];function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir=function(e){var t=e.children,r=e.textDark,n=de()(e,nr);return Object(K.jsx)(be.Button,cr(cr({borderRadius:10,h:"16"},n),{},{children:Object(K.jsx)(re.default,{color:r?"coolGray.900":"gray.50",fontWeight:700,fontSize:18,children:t})}))},sr=r(241),ar=["label"];function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dr=function(e){var t=e.label,r=de()(e,ar);return Object(K.jsxs)(sr.FormControl,{w:"full",children:[Object(K.jsx)(sr.FormControl.Label,{fontSize:18,fontWeight:700,children:t}),Object(K.jsx)(Ne.Input,lr(lr({},r),{},{h:"12",w:"full",variant:"filled",_focus:{borderColor:"info.200"}}))]})},fr=r(344);function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pr=function(e){var t=e.type,r=e.SocialsComponent,n=Object(b.useState)("FALSE"),o=l()(n,2),c=o[0],i=o[1],s=Object(b.useState)({email:"ahmedmcgarry@hotmail.com",password:"adriano911",confirmPassword:""}),a=l()(s,2),u=a[0],f=a[1],j=Object(tr.useToast)(),p=Object(N.useAppDispatch)(),O=Object(N.useAppSelector)((function(e){return e.userSlice})).status;Object(b.useEffect)((function(){"rejected"===O&&j.show({placement:"top",render:function(){return Object(K.jsx)(fr.default,{title:"Error logging in or signing up",description:"An error occured, please try again",status:"error",variant:"solid"})}})}),[O]),Object(b.useEffect)((function(){j.show({placement:"top",render:function(){return Object(K.jsx)(fr.default,{title:"Notice!",description:"For the purpose of this demo, use the login credentials provided",status:"info",variant:"solid"})}})}),[]);var h=function(){var e=u.password,t=u.email;e&&t&&p(Object(Ke.userLogin)({email:t,password:e,rememberMe:c}))},g=function(){var e=u.password,t=u.email,r=u.confirmPassword;e&&t&&r&&e===r&&(e.length<6||p(Object(Ke.userSignup)({email:t,password:e,rememberMe:c})))},m=function(){var e=u.email;return Object(K.jsx)(dr,{label:"Email",value:e,onChangeText:function(e){return f(br(br({},u),{},{email:e}))},fontSize:16,placeholder:"ahmedmcgarry@hotmail.com",InputLeftElement:Object(K.jsx)(d.default,{name:"envelope",size:22,style:{marginHorizontal:8,color:"gray"}})})},x=function(){var e=u.password;return Object(K.jsx)(dr,{label:"Password",value:e,type:"password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",fontSize:16,onChangeText:function(e){return f(br(br({},u),{},{password:e}))},InputLeftElement:Object(K.jsx)(je.FontAwesomeIcon,{icon:Ot.faLock,size:22,style:{marginHorizontal:8,marginRight:8,color:"gray"}}),InputRightElement:Object(K.jsx)(je.FontAwesomeIcon,{icon:er.faEye,size:22,style:{marginHorizontal:8,color:"gray"}})})},y=function(){var e=u.confirmPassword;return Object(K.jsx)(dr,{label:"Confirm Password",type:"password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:e,fontSize:16,onChangeText:function(e){return f(br(br({},u),{},{confirmPassword:e}))},InputLeftElement:Object(K.jsx)(je.FontAwesomeIcon,{icon:Ot.faLock,size:22,style:{marginHorizontal:8,color:"gray"}}),InputRightElement:Object(K.jsx)(je.FontAwesomeIcon,{icon:er.faEye,size:22,style:{marginHorizontal:8,color:"gray"}})})},v=function(){return Object(K.jsx)(rr.Checkbox,{value:c,size:"sm",mt:2,onChange:function(){i("FALSE"===c?"TRUE":"FALSE")},children:Object(K.jsx)(re.default,{color:"gray.500",children:"Remember Me"})})};return Object(K.jsxs)(P.default,{flexGrow:1,padding:4,flex:3,justifyContent:"space-between",children:[function(){if("LOG_IN"!==t)return Object(K.jsxs)(ne.default,{flex:1,space:3,children:[m(),x(),y(),v()]})}(),function(){if("SIGN_UP"!==t)return Object(K.jsxs)(ne.default,{flex:1,space:3,children:[m(),x(),v()]})}(),Object(K.jsx)(r,{}),"SIGN_UP"===t?Object(K.jsx)(ir,{alignItems:"center",backgroundColor:"coolGray.900",onPress:g,children:"Sign Up"}):Object(K.jsx)(ir,{alignItems:"center",backgroundColor:"coolGray.900",onPress:h,children:"Log In"})]})},Or=function(e){var t=e.type,r=e.setType,n=Object($e.useNavigation)().navigate,o=function(){return r?"SIGN_UP"===t?r("LOG_IN"):void r("SIGN_UP"):n("Auth",{type:"LOG_IN"})};return"SIGN_UP"===t?Object(K.jsxs)(re.default,{textAlign:"center",my:5,children:["Already have an account?"," ",Object(K.jsx)(re.default,{fontWeight:700,underline:!0,onPress:o,children:"Log in"})]}):Object(K.jsxs)(re.default,{textAlign:"center",my:5,children:["Dont have an account?"," ",Object(K.jsx)(re.default,{fontWeight:700,underline:!0,onPress:o,children:"Sign up"})]})},hr=r(292),gr=function(){return Object(K.jsxs)(ne.default,{my:10,space:5,children:[Object(K.jsxs)(E.default,{space:"4",alignItems:"center",children:[Object(K.jsx)(P.default,{w:"1/4",borderWidth:1,borderColor:"coolGray.200",h:"0"}),Object(K.jsx)(re.default,{flexGrow:1,flex:1,noOfLines:1,textAlign:"center",textTransform:"uppercase",letterSpacing:"lg",fontWeight:600,fontSize:12,children:"Or Sign in with"}),Object(K.jsx)(P.default,{w:"1/4",borderWidth:1,borderColor:"coolGray.200",h:"0"})]}),Object(K.jsx)(E.default,{space:"4",alignItems:"center",justifyContent:"center",children:Object(K.jsx)(k.default,{w:"16",h:"16",borderRadius:"full",backgroundColor:"coolGray.200",justifyContent:"center",alignItems:"center",children:Object(K.jsx)(je.FontAwesomeIcon,{icon:hr.faGoogle,size:24,style:{color:"#111827"}})})})]})},mr=function(e){var t=e.route,r=(t&&t.params?t.params:"LOG_IN").type,n=Object(b.useState)(r),o=l()(n,2),c=o[0],i=o[1];return Object(K.jsxs)(W.View,{flex:1,backgroundColor:"white",_web:{maxW:"lg",width:"100%",margin:"auto"},children:[Object(K.jsx)(P.default,{h:"16",marginX:"auto",marginTop:20,marginBottom:5,alignItems:"flex-end",children:Object(K.jsx)($t,{flex:1,position:"relative",resizeMode:"contain"})}),("LOG_IN"===c&&Object(K.jsxs)(ne.default,{space:3,children:[Object(K.jsx)(A.default,{color:"coolGray.900",fontSize:32,fontWeight:900,textAlign:"center",children:"Welcome to Jacked"}),Object(K.jsx)(re.default,{color:"coolGray.400",fontSize:14,fontWeight:700,textAlign:"center",children:"Sign in to start your fitness journey"})]}),Object(K.jsxs)(ne.default,{space:3,children:[Object(K.jsx)(A.default,{color:"coolGray.900",fontSize:32,fontWeight:900,textAlign:"center",children:"Welcome Back"}),Object(K.jsx)(re.default,{color:"coolGray.400",fontSize:14,fontWeight:700,textAlign:"center",children:"Login to pick up where you left off"})]})),Object(K.jsx)(pr,{type:c,SocialsComponent:gr}),Object(K.jsx)(Or,{type:c,setType:i})]})},xr=r(614),yr=function(){var e=a()((function*(e){try{return yield Ye.default.getItem(e)}catch(t){return console.error(t),null}}));return function(t){return e.apply(this,arguments)}}(),vr=function(){var e=a()((function*(e){return localStorage.getItem(e)||null}));return function(t){return e.apply(this,arguments)}}(),wr=function(){var e=Object(N.useAppDispatch)(),t=J();Object(b.useEffect)((function(){t&&function(){var t=a()((function*(){try{var t=yield yr("JACKED__SESSION_TOKEN");t&&e(Object(Ke.rememberSession)(t))}catch(r){console.error(r)}}));return function(){return t.apply(this,arguments)}}()();if(!t){var r=vr("JACKED__SESSION_TOKEN");Object.keys(r).length&&e(Object(Ke.rememberSession)(r))}}))},Sr=function(){var e=Object($e.useNavigation)().navigate,t=Object(N.useAppDispatch)();wr();var n=function(){e("Auth",{type:"SIGN_UP"})},o=function(){var e=a()((function*(){t(Object(Ke.signInWithGoogle)())}));return function(){return e.apply(this,arguments)}}();return Object(K.jsxs)(W.View,{flex:1,backgroundColor:"white",_web:{maxW:"lg",width:"100%",margin:"auto"},children:[Object(K.jsx)(P.default,{w:"full",h:"lg",position:"relative",children:Object(K.jsx)(ft.default,{source:r(880),alt:"Hero Banner",size:"full"})}),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(P.default,{w:"1/3",margin:"auto",children:Object(K.jsx)($t,{size:"full",position:"absolute",top:-30,left:0,right:0,margin:"auto",flex:1,h:"16",resizeMode:"contain"})}),Object(K.jsx)(P.default,{flexGrow:1,mt:12,children:Object(K.jsx)(re.default,{fontWeight:700,color:"coolGray.400",textAlign:"center",fontSize:18,children:"The all in one app for tracking your personal fitness Journey!"})})]}),Object(K.jsxs)(ne.default,{space:2,px:3,children:[Object(K.jsx)(ir,{onPress:n,alignItems:"center",backgroundColor:"coolGray.900",startIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:xr.faEnvelope,style:{color:"#f9fafb",marginRight:2},size:22}),children:"Sign up with Email"}),Object(K.jsx)(ir,{onPress:o,borderColor:"coolGray.900",borderWidth:"2",backgroundColor:"white",textDark:!0,startIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:hr.faGoogle,style:{color:"#111827",marginRight:2},size:22}),children:"Sign up with Google"})]}),Object(K.jsx)(Or,{type:"SIGN_UP"})]})},Ir=r(615),kr=function(e){return Object(K.jsx)(W.View,{py:3,px:2,h:"20",borderBottomWidth:1,borderBottomColor:"gray.200",justifyContent:"center",backgroundColor:"white",_web:{maxW:"lg",w:"100%",mx:"auto",h:"16"},children:Object(K.jsxs)(E.default,{alignItems:"flex-end",justifyContent:"space-between",h:"100%",_web:{alignItems:"baseline"},children:[function(){var t=e.navigation;if(!e.showBack)return Object(K.jsx)(P.default,{flex:1});var r=t.goBack;return Object(K.jsx)(be.Button,{leftIcon:Object(K.jsx)(je.FontAwesomeIcon,{icon:Ir.faArrowLeft}),variant:"ghost",onPress:r})}(),function(){var t=e.showRouteTitle,r=e.route.name;return t?Object(K.jsx)(A.default,{children:r}):Object(K.jsx)(P.default,{flex:1})}(),function(){var t=e.ComponentRight;return t?Object(K.jsx)(t,{}):Object(K.jsx)(P.default,{flex:1})}()]})})},Cr=function(){return Object(K.jsx)(W.View,{backgroundColor:"coolGray.50",h:"full",px:1,py:3,_web:{maxW:"lg",w:"100%",mx:"auto"},children:Object(K.jsx)(At,{template:!0})})};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Er(){return Object(K.jsx)(S.default,{linking:it,children:Object(K.jsx)(Tr,{})})}var Dr=Object(I.default)(),Wr=Object(I.default)();function Tr(){Object(N.useAppDispatch)();var e=Object(N.useAppSelector)((function(e){return e.userSlice.user})).isLoggedIn;Object(C.default)().screenColorModeHex;return Object(K.jsx)(K.Fragment,{children:e?Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)(Dr.Navigator,{initialRouteName:"Root",children:[Object(K.jsx)(Dr.Screen,{name:"Root",component:_r,options:{headerShown:!1}}),Object(K.jsx)(Dr.Screen,{name:"CreateTemplate",component:Cr,options:{title:"Create Template",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!0,showRouteTitle:!1},e))}}}),Object(K.jsx)(Dr.Screen,{name:"ActiveWorkout",component:Et,options:function(e){e.navigation;return{title:"Active Workout",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!0,showRouteTitle:!1},e))}}}}),Object(K.jsxs)(Dr.Group,{screenOptions:{presentation:"modal"},children:[Object(K.jsx)(Dr.Screen,{name:"Calendar",component:dt,options:function(){return{header:function(e){return Object(K.jsx)(kr,Ar({showBack:!0,showRouteTitle:!0},e))}}}}),Object(K.jsx)(Dr.Screen,{name:"AddExercises",component:Nt,options:function(e){var t=e.navigation;return{title:"",header:function(e){return Object(K.jsx)(kr,Ar(Ar({showBack:!1,showRouteTitle:!1},e),{},{ComponentRight:function(){return Object(K.jsx)(k.default,{onPress:function(){return t.goBack()},children:Object(K.jsx)(je.FontAwesomeIcon,{icon:x.faChevronDown,color:"skyblue",size:20})})}}))}}}})]})]})}):Object(K.jsxs)(Wr.Navigator,{initialRouteName:"Welcome",children:[Object(K.jsx)(Wr.Screen,{name:"Welcome",component:Sr,options:function(){return{headerShown:!1}}}),Object(K.jsx)(Wr.Screen,{name:"Auth",component:mr,options:function(){return{headerShown:!1}}})]})})}var zr=Object(w.default)();function _r(){var e=Object(C.default)(),t=e.screenColorModeHex,r=e.bottomNavColorMode;return Object(K.jsxs)(zr.Navigator,{initialRouteName:"Profile",screenOptions:{tabBarStyle:[{backgroundColor:t,paddingTop:5,maxWidth:512,marginHorizontal:"auto",width:"100%"}],tabBarActiveTintColor:r,headerStyle:{backgroundColor:t}},children:[Object(K.jsx)(zr.Screen,{name:"Profile",component:Qe,options:function(e){e.navigation;return{title:"Profile",headerTitle:"",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!1,showRouteTitle:!1},e))},tabBarIcon:function(e){var t=e.color;return Object(K.jsx)(je.FontAwesomeIcon,{icon:m.faUser,color:t,size:25})}}}}),Object(K.jsx)(zr.Screen,{name:"Start",component:qt,options:{headerTitle:"",title:"Start",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!1,showRouteTitle:!1},e))},tabBarIcon:function(e){var t=e.color;return Object(K.jsx)(je.FontAwesomeIcon,{icon:v.faPlus,color:t,size:25})}}}),Object(K.jsx)(zr.Screen,{name:"Exercises",component:Mt,options:{headerTitle:"",title:"Exercises",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!1,showRouteTitle:!1},e))},tabBarIcon:function(e){var t=e.color;return Object(K.jsx)(je.FontAwesomeIcon,{icon:g.faDumbbell,color:t,size:25})}}}),Object(K.jsx)(zr.Screen,{name:"History",component:ct,options:function(){return{headerTitle:"",title:"History",header:function(e){return Object(K.jsx)(kr,Ar({showBack:!1,showRouteTitle:!1},e))},tabBarIcon:function(e){var t=e.color;return Object(K.jsx)(je.FontAwesomeIcon,{icon:y.faClockRotateLeft,color:t,size:25})}}}})]})}var Fr=r(959),Mr=(r(891),r(217));function Lr(){return function(){var e=Object(b.useState)(!1),t=l()(e,2),n=t[0],o=t[1];return Object(b.useEffect)((function(){function e(){return(e=a()((function*(){try{j.preventAutoHideAsync(),yield f.loadAsync(h(h({},d.default.font),{},{"space-mono":r(675)}))}catch(e){console.warn(e)}finally{o(!0),j.hideAsync()}}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n}()?Object(K.jsx)(Mr.Provider,{store:N.default,children:Object(K.jsx)(Fr.NativeBaseProvider,{children:Object(K.jsxs)(o.SafeAreaProvider,{children:[Object(K.jsx)(Er,{}),Object(K.jsx)(n.StatusBar,{})]})})}):null}},659:function(e,t,r){e.exports=r(903)},675:function(e,t,r){e.exports=r.p+"./fonts/SpaceMono-Regular.ttf"},694:function(e,t,r){var n={"./af":381,"./af.js":381,"./ar":382,"./ar-dz":383,"./ar-dz.js":383,"./ar-kw":384,"./ar-kw.js":384,"./ar-ly":385,"./ar-ly.js":385,"./ar-ma":386,"./ar-ma.js":386,"./ar-sa":387,"./ar-sa.js":387,"./ar-tn":388,"./ar-tn.js":388,"./ar.js":382,"./az":389,"./az.js":389,"./be":390,"./be.js":390,"./bg":391,"./bg.js":391,"./bm":392,"./bm.js":392,"./bn":393,"./bn-bd":394,"./bn-bd.js":394,"./bn.js":393,"./bo":395,"./bo.js":395,"./br":396,"./br.js":396,"./bs":397,"./bs.js":397,"./ca":398,"./ca.js":398,"./cs":399,"./cs.js":399,"./cv":400,"./cv.js":400,"./cy":401,"./cy.js":401,"./da":402,"./da.js":402,"./de":403,"./de-at":404,"./de-at.js":404,"./de-ch":405,"./de-ch.js":405,"./de.js":403,"./dv":406,"./dv.js":406,"./el":407,"./el.js":407,"./en-au":408,"./en-au.js":408,"./en-ca":409,"./en-ca.js":409,"./en-gb":410,"./en-gb.js":410,"./en-ie":411,"./en-ie.js":411,"./en-il":412,"./en-il.js":412,"./en-in":413,"./en-in.js":413,"./en-nz":414,"./en-nz.js":414,"./en-sg":415,"./en-sg.js":415,"./eo":416,"./eo.js":416,"./es":417,"./es-do":418,"./es-do.js":418,"./es-mx":419,"./es-mx.js":419,"./es-us":420,"./es-us.js":420,"./es.js":417,"./et":421,"./et.js":421,"./eu":422,"./eu.js":422,"./fa":423,"./fa.js":423,"./fi":424,"./fi.js":424,"./fil":425,"./fil.js":425,"./fo":426,"./fo.js":426,"./fr":427,"./fr-ca":428,"./fr-ca.js":428,"./fr-ch":429,"./fr-ch.js":429,"./fr.js":427,"./fy":430,"./fy.js":430,"./ga":431,"./ga.js":431,"./gd":432,"./gd.js":432,"./gl":433,"./gl.js":433,"./gom-deva":434,"./gom-deva.js":434,"./gom-latn":435,"./gom-latn.js":435,"./gu":436,"./gu.js":436,"./he":437,"./he.js":437,"./hi":438,"./hi.js":438,"./hr":439,"./hr.js":439,"./hu":440,"./hu.js":440,"./hy-am":441,"./hy-am.js":441,"./id":442,"./id.js":442,"./is":443,"./is.js":443,"./it":444,"./it-ch":445,"./it-ch.js":445,"./it.js":444,"./ja":446,"./ja.js":446,"./jv":447,"./jv.js":447,"./ka":448,"./ka.js":448,"./kk":449,"./kk.js":449,"./km":450,"./km.js":450,"./kn":451,"./kn.js":451,"./ko":452,"./ko.js":452,"./ku":453,"./ku.js":453,"./ky":454,"./ky.js":454,"./lb":455,"./lb.js":455,"./lo":456,"./lo.js":456,"./lt":457,"./lt.js":457,"./lv":458,"./lv.js":458,"./me":459,"./me.js":459,"./mi":460,"./mi.js":460,"./mk":461,"./mk.js":461,"./ml":462,"./ml.js":462,"./mn":463,"./mn.js":463,"./mr":464,"./mr.js":464,"./ms":465,"./ms-my":466,"./ms-my.js":466,"./ms.js":465,"./mt":467,"./mt.js":467,"./my":468,"./my.js":468,"./nb":469,"./nb.js":469,"./ne":470,"./ne.js":470,"./nl":471,"./nl-be":472,"./nl-be.js":472,"./nl.js":471,"./nn":473,"./nn.js":473,"./oc-lnc":474,"./oc-lnc.js":474,"./pa-in":475,"./pa-in.js":475,"./pl":476,"./pl.js":476,"./pt":477,"./pt-br":478,"./pt-br.js":478,"./pt.js":477,"./ro":479,"./ro.js":479,"./ru":480,"./ru.js":480,"./sd":481,"./sd.js":481,"./se":482,"./se.js":482,"./si":483,"./si.js":483,"./sk":484,"./sk.js":484,"./sl":485,"./sl.js":485,"./sq":486,"./sq.js":486,"./sr":487,"./sr-cyrl":488,"./sr-cyrl.js":488,"./sr.js":487,"./ss":489,"./ss.js":489,"./sv":490,"./sv.js":490,"./sw":491,"./sw.js":491,"./ta":492,"./ta.js":492,"./te":493,"./te.js":493,"./tet":494,"./tet.js":494,"./tg":495,"./tg.js":495,"./th":496,"./th.js":496,"./tk":497,"./tk.js":497,"./tl-ph":498,"./tl-ph.js":498,"./tlh":499,"./tlh.js":499,"./tr":500,"./tr.js":500,"./tzl":501,"./tzl.js":501,"./tzm":502,"./tzm-latn":503,"./tzm-latn.js":503,"./tzm.js":502,"./ug-cn":504,"./ug-cn.js":504,"./uk":505,"./uk.js":505,"./ur":506,"./ur.js":506,"./uz":507,"./uz-latn":508,"./uz-latn.js":508,"./uz.js":507,"./vi":509,"./vi.js":509,"./x-pseudo":510,"./x-pseudo.js":510,"./yo":511,"./yo.js":511,"./zh-cn":512,"./zh-cn.js":512,"./zh-hk":513,"./zh-hk.js":513,"./zh-mo":514,"./zh-mo.js":514,"./zh-tw":515,"./zh-tw.js":515};function o(e){var t=c(e);return r(t)}function c(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=c,e.exports=o,o.id=694},721:function(e,t){},74:function(e,t,r){"use strict";r.r(t);var n=r(125),o=r(652),c=r(101),i=r(1);t.default=function(e){var t=e.isOpen,r=e.onClose,s=e.children,a=e.header,u=e.saveHandler,l=e.width,d=void 0===l?"4/5":l,f=e.size,j=void 0===f?"md":f;return Object(i.jsx)(n.Modal,{isOpen:t,onClose:function(){return r(!1)},size:j,children:Object(i.jsxs)(n.Modal.Content,{maxH:"4/5",w:d,children:[Object(i.jsx)(n.Modal.CloseButton,{}),Object(i.jsx)(n.Modal.Header,{borderBottomWidth:0,children:a}),Object(i.jsx)(n.Modal.Body,{children:s}),u&&Object(i.jsx)(n.Modal.Footer,{borderTopWidth:0,children:Object(i.jsx)(o.Button.Group,{space:2,children:Object(i.jsx)(o.Button,{backgroundColor:"info.500",onPress:u,children:Object(i.jsx)(c.default,{fontWeight:"semibold",color:"coolGray.100",children:"Save"})})})})]})})}},878:function(e,t,r){e.exports=r.p+"static/media/undraw_Powerful_re_frhr.3129c363.png"},879:function(e,t,r){e.exports=r.p+"static/media/logo.a8677c49.png"},880:function(e,t,r){e.exports=r.p+"static/media/welcome-hero.ef776176.png"},99:function(e,t,r){"use strict";r.r(t),r.d(t,"getWidgets",(function(){return j})),r.d(t,"createWidget",(function(){return b})),r.d(t,"deleteWidget",(function(){return p})),r.d(t,"refreshWidgets",(function(){return O}));var n=r(2),o=r.n(n),c=r(23),i=r.n(c),s=r(46),a=r(45);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={status:"idle",widgets:{}},f=Object(s.createSlice)({name:"widget_slice",initialState:d,reducers:{refreshWidgets:function(e){d}},extraReducers:function(e){e.addCase(b.fulfilled,(function(e,t){var r=t.payload;if(r){var n=r.widgetId,o=r,c=o.type,i={title:o.title,subtitle:o.subtitle,type:c};if(e.widgets[n]=i,"ONE_REP_MAX_EST"===c){var s=r.exerciseId;e.widgets[n].exerciseId=s}}})).addCase(b.rejected,(function(e,t){e.status="rejected"})).addCase(j.fulfilled,(function(e,t){t.payload.map((function(t){if("exerciseId"in t){var r=t,n=r.exerciseId,o=r.title,c=r.subtitle,i=r.type,s=r.user_id;return e.widgets[t.id]={exerciseId:n,subtitle:c,title:o,type:i,user_id:s}}var a=t,u=a.title,l=a.subtitle,d=a.type,f=a.user_id;return e.widgets[t.id]={subtitle:l,title:u,type:d,user_id:f}})),e.status="fulfilled"})).addCase(j.rejected,(function(e,t){e.status="rejected"})).addCase(p.fulfilled,(function(e,t){var r=t.payload;e.status="fulfilled",delete e.widgets[r]}))}}),j=Object(s.createAsyncThunk)("widget/getWidgets",function(){var e=i()((function*(e,t){var r=t.rejectWithValue;console.log("GETWIDGETS!");var n=e.userId,o=yield a.supabase.from("widgets").select("id, type, title, subtitle, exerciseId").eq("user_id",n),c=o.data,i=o.error;return i?(console.error(i),r([])):c}));return function(t,r){return e.apply(this,arguments)}}()),b=Object(s.createAsyncThunk)("widget/createWidget",function(){var e=i()((function*(e,t){var r=t.rejectWithValue,n=e.subtitle,o=e.title,c=e.type,i={type:c,title:o,subtitle:n,user_id:e.user_id};if("exerciseId"in e&&"ONE_REP_MAX_EST"===c){var s=e.exerciseId;i=l(l({},i),{},{exerciseId:s})}var u=yield a.supabase.from("widgets").insert(i),d=u.data,f=u.error;return f?(console.error(f),r({})):l(l({},e),{},{widgetId:d[0].id})}));return function(t,r){return e.apply(this,arguments)}}()),p=Object(s.createAsyncThunk)("widget/deleteWidget",function(){var e=i()((function*(e,t){var r=t.rejectWithValue;return(yield a.supabase.from("widgets").delete().eq("id",e)).error?r([]):e}));return function(t,r){return e.apply(this,arguments)}}());t.default=f.reducer;var O=f.actions.refreshWidgets}},[[659,2,3]]]);
//# sourceMappingURL=app.f4bb3fde.chunk.js.map