(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{960:function(e,t,r){"use strict";r.r(t);var n=r(220),c=r(283),o=r(101),i=r(1);t.default=function(){return Object(i.jsxs)(n.default,{space:2,justifyContent:"center",my:2,children:[Object(i.jsx)(c.default,{accessibilityLabel:"Loading..",colorScheme:"blue"}),Object(i.jsx)(o.default,{color:"coolGray.800",fontSize:"md",children:"Loading..."})]})}},965:function(e,t,r){"use strict";r.r(t);var n=r(3),c=r.n(n),o=r(956),i=r(101),s=r(30),a=r(955),l=r(302),u=r(957),d=r(139),f=r(24),j=function(e){return e.split(" ").map((function(e){return""+e[0]}))},b=r(59),O=r(61),g=r(2),p=r.n(g),h=r(946),x=r(220),m=r(0),y=r(23),v=r.n(y),w=r(45),S=function(e){var t=e.exerciseId,r=Object(m.useState)(),n=c()(r,2),o=n[0],i=n[1],s=Object(m.useState)(),a=c()(s,2),l=a[0],u=a[1],d=Object(m.useState)(!0),f=c()(d,2),j=f[0],b=f[1];return Object(m.useEffect)((function(){var e=function(){var e=v()((function*(){try{var e=yield w.supabase.from("exercises").select("id, exercise_name, category, description, image").eq("id",t),r=e.data,n=e.error;return n?(console.error(n.message),u(n.message),{}):{id:r[0].id,name:r[0].exercise_name,description:r[0].description,image:r[0].image,category:r[0].category}}catch(c){console.error(c.message),u(c.message)}}));return function(){return e.apply(this,arguments)}}();(function(){var t=v()((function*(){try{var t=yield e();i({exercise_details:t}),b(!1)}catch(r){console.error(r.message),u(r.message)}}));return function(){return t.apply(this,arguments)}})()()}),[]),{details:o,error:l,isLoading:j}};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=Object(m.useState)(),r=c()(t,2),n=r[0],o=r[1],i=Object(m.useState)(),s=c()(i,2),a=s[0],l=s[1],u=Object(m.useState)(!1),d=c()(u,2),f=d[0],j=d[1];Object(m.useEffect)((function(){b()}),[]);var b=function(){var t=v()((function*(){try{j(!0);var t=yield w.supabase.from("lifts").select("lift_id, created_at, exercise_name, set (weight, reps, setNumber), workout_id (workout_name)").eq("exercise_id",e).order("created_at",{ascending:!1}).limit(10),r=t.data,n=t.error;if(n)return console.error(n.message),l(n.message),void j(!1);var c=r.reduce((function(e,t){var r=t.lift_id,n=t.exercise_name,c=t.set,o=t.workout_id.workout_name,i=new Date(t.created_at).toLocaleDateString(),s=new Date(t.created_at).toLocaleTimeString();return k(k({},e),{},p()({},r,{workout_name:o,date:i,time:s,exercise_name:n,sets:c}))}),{});j(!1),o(c)}catch(i){console.error(i.message),l(i.message),j(!1)}}));return function(){return t.apply(this,arguments)}}();return{exerciseHistory:n,error:a,isLoading:f}},D=r(960),P=r(1),L=function(e){var t=e.exercise_details,r=e.isLoading;if(!t||r)return Object(P.jsx)(D.default,{});var n=t.name,c=t.category,o=t.description;return Object(P.jsxs)(l.default,{space:2,children:[void Object(P.jsx)(i.default,{fontSize:"lg",fontWeight:500,children:n}),Object(P.jsxs)(l.default,{children:[Object(P.jsx)(i.default,{fontWeight:600,fontSize:"md",children:"Category"}),Object(P.jsx)(i.default,{children:c})]}),Object(P.jsxs)(l.default,{children:[Object(P.jsx)(i.default,{fontWeight:600,fontSize:"md",children:"Description"}),Object(P.jsx)(i.default,{children:o})]})]})},E=r(344),I=r(74);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=Object(m.lazy)((function(){return r.e(7).then(r.bind(null,964))})),G=Object(m.lazy)((function(){return r.e(8).then(r.bind(null,967))})),T=function(e){var t=Object(m.useState)("ABOUT"),r=c()(t,2),n=r[0],o=r[1],s=e.isOpen,a=e.onClose,u=e.exerciseName,f=e.exerciseId,j=S({exerciseId:f}),b=j.details,O=j.isLoading,g=j.error,p=C(f),y=p.exerciseHistory,v=p.isLoading,w=p.error;console.log(b),console.log(y);var _={ABOUT:Object(P.jsx)(L,A({},b)),HISTORY:Object(P.jsx)(W,{exerciseHistory:y,isLoading:v}),RECORDS:Object(P.jsx)(G,{exerciseHistory:y,isLoading:O})},k=Object(h.useToast)();Object(m.useEffect)((function(){(g||w)&&k.show({placement:"top",render:function(){return Object(P.jsx)(E.default,{title:"Error",description:"There was an error loading workout details, please try again later",status:"error",variant:"solid"})}})}),[w,g]);return Object(P.jsx)(I.default,{isOpen:s,onClose:a,header:u+" Details",children:Object(P.jsxs)(l.default,{space:2,children:[Object(P.jsx)(x.default,{justifyContent:"space-evenly",rounded:"md",overflow:"hidden",backgroundColor:"gray.300",children:Object.keys(_).map((function(e,t){var r=n===e?"info.400":"coolGray.200",c=n===e?"lg":null,s=n===e?"white":"coolGray.800";return Object(P.jsx)(d.default,{flex:1,textAlign:"center",onPress:function(){return o(e)},fontWeight:500,background:r,shadow:c,p:2,children:Object(P.jsx)(i.default,{color:s,textTransform:"capitalize",fontWeight:700,fontSize:"xs",letterSpacing:"xl",textAlign:"center",children:e})},t)}))}),Object(P.jsx)(m.Suspense,{fallback:Object(P.jsx)(D.default,{}),children:_[n]})]})})};t.default=function(e){var t=e.isLoading,r=e.id,n=Object(m.useState)(!1),g=c()(n,2),p=g[0],h=g[1],x=Object(m.useState)(!1),y=c()(x,2),v=y[0],w=y[1],S=Object(f.useAppDispatch)(),_=Object(f.useAppSelector)((function(e){return e.userSlice.user})).userId,k=Object(f.useAppSelector)((function(e){return e.currentWorkoutSlice})).exerciseOrder,C="lift-"+r;Object(m.useEffect)((function(){k.includes(C)&&w(!0)}),[k]);var D=v?"info.50":"white",L=function(){var t={exerciseId:e.id,exerciseName:e.exercise_name,liftId:C,userId:_,sets:{}};if(!v)return S(Object(b.addLift)([t]));S(Object(b.deleteLift)({liftId:C})),w(!1)};return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(u.Skeleton,{my:2,h:12,startColor:"gray.200",endColor:"coolGray.200",isLoaded:t,children:Object(P.jsx)(s.default,{padding:3,backgroundColor:D,_dark:{backgroundColor:"coolGray.700",borderColor:"coolGray.700"},children:Object(P.jsxs)(d.default,{flexDirection:"row",alignItems:"center",onPress:function(){return e.showExerciseDetails?h(!0):L()},children:[function(){var t=e.exercise_name,r=Object(O.default)().h1ColorMode;return Object(P.jsx)(o.Avatar,{marginRight:2,backgroundColor:"transparent",children:Object(P.jsx)(i.default,{fontSize:"lg",letterSpacing:"xl",fontWeight:"bold",color:r,children:j(t)})})}(),function(){var t=e.exercise_name,r=e.targets,n=Object(O.default)().h2ColorMode;return Object(P.jsxs)(l.default,{flex:1,children:[Object(P.jsx)(i.default,{color:n,fontWeight:"semibold",children:t}),Object(P.jsx)(i.default,{color:"coolGray.400",fontSize:"sm",children:r})]})}(),function(){var t=e.exercise_name;return e.showExerciseDetails?null:Object(P.jsx)(s.default,{children:Object(P.jsx)(a.Checkbox,{accessibilityLabel:""+t,value:"isActive",colorScheme:"info",isChecked:v,"aria-label":"Add to workout",borderWidth:"0",outlineColor:"white",_checked:{backgroundColor:"info.200"}})})}()]})})}),function(){if(!p)return null;var t=e.exercise_name;return Object(P.jsx)(T,{isOpen:p,onClose:function(){return h(!1)},exerciseName:t,exerciseId:r})}()]})}}}]);
//# sourceMappingURL=5.772c6532.chunk.js.map